{"version":3,"file":"ngxs-store.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../packages/store/src/utils/utils.ts","../../../packages/store/src/configs/messages.config.ts","../../../packages/store/src/execution/dispatch-outside-zone-ngxs-execution-strategy.ts","../../../packages/store/src/symbols.ts","../../../packages/store/src/execution/noop-ngxs-execution-strategy.ts","../../../packages/store/src/execution/symbols.ts","../../../packages/store/src/internal/internals.ts","../../../packages/store/src/operators/of-action.ts","../../../packages/store/src/utils/store-validators.ts","../../../packages/store/src/ivy/ivy-enabled-in-dev-mode.ts","../../../packages/store/src/actions/actions.ts","../../../packages/store/src/dev-features/symbols.ts","../../../packages/store/src/dev-features/ngxs-unhandled-actions-logger.ts","../../../packages/store/src/operators/leave-ngxs.ts","../../../packages/store/src/internal/custom-rxjs-subjects.ts","../../../packages/store/src/execution/internal-ngxs-execution-strategy.ts","../../../packages/store/src/actions-stream.ts","../../../packages/store/src/utils/compose.ts","../../../packages/store/src/internal/error-handler.ts","../../../packages/store/src/plugin-manager.ts","../../../packages/store/src/internal/state-stream.ts","../../../packages/store/src/internal/dispatcher.ts","../../../packages/store/src/internal/state-operators.ts","../../../packages/store/src/utils/freeze.ts","../../../packages/store/src/internal/state-operations.ts","../../../packages/store/src/internal/state-context-factory.ts","../../../packages/store/src/internal/state-factory.ts","../../../packages/store/src/selectors/selector-utils.ts","../../../packages/store/src/store.ts","../../../packages/store/src/decorators/select/select-factory.ts","../../../packages/store/src/internal/lifecycle-state-manager.ts","../../../packages/store/src/modules/ngxs-root.module.ts","../../../packages/store/src/modules/ngxs-feature.module.ts","../../../packages/store/src/module.ts","../../../packages/store/src/decorators/action.ts","../../../packages/store/src/decorators/state.ts","../../../packages/store/src/decorators/select/symbols.ts","../../../packages/store/src/decorators/select/select.ts","../../../packages/store/src/selectors/selector-metadata.ts","../../../packages/store/src/decorators/selector-options.ts","../../../packages/store/src/public_to_deprecate.ts","../../../packages/store/src/selectors/create-selector.ts","../../../packages/store/src/decorators/selector/selector.ts","../../../packages/store/src/state-token/state-token.ts","../../../packages/store/src/dev-features/ngxs-development.module.ts","../../../packages/store/src/selectors/selector-checks.util.ts","../../../packages/store/src/selectors/create-model-selector.ts","../../../packages/store/src/selectors/create-pick-selector.ts","../../../packages/store/src/selectors/create-property-selectors.ts","../../../packages/store/index.ts","../../../packages/store/ngxs-store.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/**\n * Returns the type from an action instance/class.\n * @ignore\n */\nexport function getActionTypeFromInstance(action: any): string | undefined {\n  if (action.constructor && action.constructor.type) {\n    return action.constructor.type;\n  } else {\n    return action.type;\n  }\n}\n\n/**\n * Matches a action\n * @ignore\n */\nexport function actionMatcher(action1: any) {\n  const type1 = getActionTypeFromInstance(action1);\n\n  return function(action2: any) {\n    return type1 === getActionTypeFromInstance(action2);\n  };\n}\n\n/**\n * Set a deeply nested value. Example:\n *\n *   setValue({ foo: { bar: { eat: false } } },\n *      'foo.bar.eat', true) //=> { foo: { bar: { eat: true } } }\n *\n * While it traverses it also creates new objects from top down.\n *\n * @ignore\n */\nexport const setValue = (obj: any, prop: string, val: any) => {\n  obj = { ...obj };\n\n  const split = prop.split('.');\n  const lastIndex = split.length - 1;\n\n  split.reduce((acc, part, index) => {\n    if (index === lastIndex) {\n      acc[part] = val;\n    } else {\n      acc[part] = Array.isArray(acc[part]) ? acc[part].slice() : { ...acc[part] };\n    }\n\n    return acc && acc[part];\n  }, obj);\n\n  return obj;\n};\n\n/**\n * Get a deeply nested value. Example:\n *\n *    getValue({ foo: bar: [] }, 'foo.bar') //=> []\n *\n * @ignore\n */\nexport const getValue = (obj: any, prop: string): any =>\n  prop.split('.').reduce((acc: any, part: string) => acc && acc[part], obj);\n\n/**\n * Simple object check.\n *\n *    isObject({a:1}) //=> true\n *    isObject(1) //=> false\n *\n * @ignore\n */\nexport const isObject = (item: any) => {\n  return item && typeof item === 'object' && !Array.isArray(item);\n};\n\n/**\n * Deep merge two objects.\n *\n *    mergeDeep({a:1, b:{x: 1, y:2}}, {b:{x: 3}, c:4}) //=> {a:1, b:{x:3, y:2}, c:4}\n *\n * @param base base object onto which `sources` will be applied\n */\nexport const mergeDeep = (base: any, ...sources: any[]): any => {\n  if (!sources.length) return base;\n  const source = sources.shift();\n\n  if (isObject(base) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!base[key]) Object.assign(base, { [key]: {} });\n        mergeDeep(base[key], source[key]);\n      } else {\n        Object.assign(base, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(base, ...sources);\n};\n","export function throwStateNameError(name: string): never {\n  throw new Error(\n    `${name} is not a valid state name. It needs to be a valid object property name.`\n  );\n}\n\nexport function throwStateNamePropertyError(): never {\n  throw new Error(`States must register a 'name' property.`);\n}\n\nexport function throwStateUniqueError(\n  current: string,\n  newName: string,\n  oldName: string\n): never {\n  throw new Error(`State name '${current}' from ${newName} already exists in ${oldName}.`);\n}\n\nexport function throwStateDecoratorError(name: string): never {\n  throw new Error(`States must be decorated with @State() decorator, but \"${name}\" isn't.`);\n}\n\nexport function throwActionDecoratorError(): never {\n  throw new Error('@Action() decorator cannot be used with static methods.');\n}\n\nexport function throwSelectorDecoratorError(): never {\n  throw new Error('Selectors only work on methods.');\n}\n\nexport function getZoneWarningMessage(): string {\n  return (\n    'Your application was bootstrapped with nooped zone and your execution strategy requires an actual NgZone!\\n' +\n    'Please set the value of the executionStrategy property to NoopNgxsExecutionStrategy.\\n' +\n    'NgxsModule.forRoot(states, { executionStrategy: NoopNgxsExecutionStrategy })'\n  );\n}\n\nexport function getUndecoratedStateInIvyWarningMessage(name: string): string {\n  return `'${name}' class should be decorated with @Injectable() right after the @State() decorator`;\n}\n\nexport function throwSelectFactoryNotConnectedError(): never {\n  throw new Error('You have forgotten to import the NGXS module!');\n}\n\nexport function throwPatchingArrayError(): never {\n  throw new Error('Patching arrays is not supported.');\n}\n\nexport function throwPatchingPrimitiveError(): never {\n  throw new Error('Patching primitives is not supported.');\n}\n","import { Inject, Injectable, NgZone, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\n\nimport { NgxsExecutionStrategy } from './symbols';\nimport { getZoneWarningMessage } from '../configs/messages.config';\n\n@Injectable({ providedIn: 'root' })\nexport class DispatchOutsideZoneNgxsExecutionStrategy implements NgxsExecutionStrategy {\n  constructor(private _ngZone: NgZone, @Inject(PLATFORM_ID) private _platformId: string) {\n    // Caretaker note: we have still left the `typeof` condition in order to avoid\n    // creating a breaking change for projects that still use the View Engine.\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      verifyZoneIsNotNooped(_ngZone);\n    }\n  }\n\n  enter<T>(func: () => T): T {\n    if (isPlatformServer(this._platformId)) {\n      return this.runInsideAngular(func);\n    }\n    return this.runOutsideAngular(func);\n  }\n\n  leave<T>(func: () => T): T {\n    return this.runInsideAngular(func);\n  }\n\n  private runInsideAngular<T>(func: () => T): T {\n    if (NgZone.isInAngularZone()) {\n      return func();\n    }\n    return this._ngZone.run(func);\n  }\n\n  private runOutsideAngular<T>(func: () => T): T {\n    if (NgZone.isInAngularZone()) {\n      return this._ngZone.runOutsideAngular(func);\n    }\n    return func();\n  }\n}\n\n// Caretaker note: this should exist as a separate function and not a class method,\n// since class methods are not tree-shakable.\nfunction verifyZoneIsNotNooped(ngZone: NgZone): void {\n  // `NoopNgZone` is not exposed publicly as it doesn't expect\n  // to be used outside of the core Angular code, thus we just have\n  // to check if the zone doesn't extend or instanceof `NgZone`.\n  if (ngZone instanceof NgZone) {\n    return;\n  }\n\n  console.warn(getZoneWarningMessage());\n}\n","import { Injectable, InjectionToken, Type } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { PlainObject, StateClass } from '@ngxs/store/internals';\nimport { StateOperator } from '@ngxs/store/operators';\n\nimport { mergeDeep } from './utils/utils';\nimport { DispatchOutsideZoneNgxsExecutionStrategy } from './execution/dispatch-outside-zone-ngxs-execution-strategy';\nimport { NgxsExecutionStrategy } from './execution/symbols';\nimport { SharedSelectorOptions } from './internal/internals';\nimport { StateToken } from './state-token/state-token';\n\nexport const ROOT_OPTIONS = new InjectionToken<NgxsModuleOptions>('ROOT_OPTIONS');\nexport const ROOT_STATE_TOKEN = new InjectionToken<any>('ROOT_STATE_TOKEN');\nexport const FEATURE_STATE_TOKEN = new InjectionToken<any>('FEATURE_STATE_TOKEN');\nexport const NGXS_PLUGINS = new InjectionToken('NGXS_PLUGINS');\n\nexport const META_KEY = 'NGXS_META';\nexport const META_OPTIONS_KEY = 'NGXS_OPTIONS_META';\nexport const SELECTOR_META_KEY = 'NGXS_SELECTOR_META';\n\nexport type NgxsLifeCycle = Partial<NgxsOnChanges> &\n  Partial<NgxsOnInit> &\n  Partial<NgxsAfterBootstrap>;\n\nexport type NgxsPluginFn = (state: any, mutation: any, next: NgxsNextPluginFn) => any;\n\n/**\n * The NGXS config settings.\n */\n@Injectable({\n  providedIn: 'root',\n  useFactory: (options: NgxsModuleOptions) => mergeDeep(new NgxsConfig(), options),\n  deps: [ROOT_OPTIONS]\n})\nexport class NgxsConfig {\n  /**\n   * Run in development mode. This will add additional debugging features:\n   * - Object.freeze on the state and actions to guarantee immutability\n   * (default: false)\n   *\n   * Note: this property will be accounted only in development mode when using the Ivy compiler.\n   * It makes sense to use it only during development to ensure there're no state mutations.\n   * When building for production, the Object.freeze will be tree-shaken away.\n   */\n  developmentMode: boolean;\n  compatibility: {\n    /**\n     * Support a strict Content Security Policy.\n     * This will circumvent some optimisations that violate a strict CSP through the use of `new Function(...)`.\n     * (default: false)\n     */\n    strictContentSecurityPolicy: boolean;\n  };\n  /**\n   * Determines the execution context to perform async operations inside. An implementation can be\n   * provided to override the default behaviour where the async operations are run\n   * outside Angular's zone but all observable behaviours of NGXS are run back inside Angular's zone.\n   * These observable behaviours are from:\n   *   `@Select(...)`, `store.select(...)`, `actions.subscribe(...)` or `store.dispatch(...).subscribe(...)`\n   * Every `zone.run` causes Angular to run change detection on the whole tree (`app.tick()`) so of your\n   * application doesn't rely on zone.js running change detection then you can switch to the\n   * `NoopNgxsExecutionStrategy` that doesn't interact with zones.\n   * (default: null)\n   */\n  executionStrategy: Type<NgxsExecutionStrategy>;\n  /**\n   * Defining the default state before module initialization\n   * This is convenient if we need to create a define our own set of states.\n   * @deprecated will be removed after v4\n   * (default: {})\n   */\n  defaultsState: PlainObject = {};\n  /**\n   * Defining shared selector options\n   */\n  selectorOptions: SharedSelectorOptions = {\n    injectContainerState: true, // TODO: default is true in v3, will change in v4\n    suppressErrors: true // TODO: default is true in v3, will change in v4\n  };\n\n  constructor() {\n    this.compatibility = {\n      strictContentSecurityPolicy: false\n    };\n    this.executionStrategy = DispatchOutsideZoneNgxsExecutionStrategy;\n  }\n}\n\nexport { StateOperator };\n\n/**\n * State context provided to the actions in the state.\n */\nexport interface StateContext<T> {\n  /**\n   * Get the current state.\n   */\n  getState(): T;\n\n  /**\n   * Reset the state to a new value.\n   */\n  setState(val: T | StateOperator<T>): T;\n\n  /**\n   * Patch the existing state with the provided value.\n   */\n  patchState(val: Partial<T>): T;\n\n  /**\n   * Dispatch a new action and return the dispatched observable.\n   */\n  dispatch(actions: any | any[]): Observable<void>;\n}\n\nexport type NgxsNextPluginFn = (state: any, mutation: any) => any;\n\n/**\n * Plugin interface\n */\nexport interface NgxsPlugin {\n  /**\n   * Handle the state/action before its submitted to the state handlers.\n   */\n  handle(state: any, action: any, next: NgxsNextPluginFn): any;\n}\n\n/**\n * Options that can be provided to the store.\n */\nexport interface StoreOptions<T> {\n  /**\n   * Name of the state. Required.\n   */\n  name: string | StateToken<T>;\n\n  /**\n   * Default values for the state. If not provided, uses empty object.\n   */\n  defaults?: T;\n\n  /**\n   * Sub states for the given state.\n   */\n  children?: StateClass[];\n}\n\n/**\n * Represents a basic change from a previous to a new value for a single state instance.\n * Passed as a value in a NgxsSimpleChanges object to the ngxsOnChanges hook.\n */\nexport class NgxsSimpleChange<T = any> {\n  constructor(\n    public readonly previousValue: T,\n    public readonly currentValue: T,\n    public readonly firstChange: boolean\n  ) {}\n}\n\n/**\n * On init interface\n */\nexport interface NgxsOnInit {\n  ngxsOnInit(ctx: StateContext<any>): void;\n}\n\n/**\n * On change interface\n */\nexport interface NgxsOnChanges {\n  ngxsOnChanges(change: NgxsSimpleChange): void;\n}\n\n/**\n * After bootstrap interface\n */\nexport interface NgxsAfterBootstrap {\n  ngxsAfterBootstrap(ctx: StateContext<any>): void;\n}\n\nexport type NgxsModuleOptions = Partial<NgxsConfig>;\n\n/** @internal */\ndeclare global {\n  const ngDevMode: boolean;\n}\n","import { Injectable } from '@angular/core';\n\nimport { NgxsExecutionStrategy } from './symbols';\n\n@Injectable({ providedIn: 'root' })\nexport class NoopNgxsExecutionStrategy implements NgxsExecutionStrategy {\n  enter<T>(func: () => T): T {\n    return func();\n  }\n\n  leave<T>(func: () => T): T {\n    return func();\n  }\n}\n","import { InjectionToken, inject, INJECTOR, Type, ɵglobal } from '@angular/core';\n\nimport { NoopNgxsExecutionStrategy } from './noop-ngxs-execution-strategy';\nimport { DispatchOutsideZoneNgxsExecutionStrategy } from './dispatch-outside-zone-ngxs-execution-strategy';\n\n/**\n * The strategy that might be provided by users through `options.executionStrategy`.\n */\nexport const USER_PROVIDED_NGXS_EXECUTION_STRATEGY = new InjectionToken<\n  Type<NgxsExecutionStrategy> | undefined\n>('USER_PROVIDED_NGXS_EXECUTION_STRATEGY');\n\n/*\n * Internal execution strategy injection token\n */\nexport const NGXS_EXECUTION_STRATEGY = new InjectionToken<NgxsExecutionStrategy>(\n  'NGXS_EXECUTION_STRATEGY',\n  {\n    providedIn: 'root',\n    factory: () => {\n      const injector = inject(INJECTOR);\n      const executionStrategy = injector.get(USER_PROVIDED_NGXS_EXECUTION_STRATEGY);\n      return executionStrategy\n        ? injector.get(executionStrategy)\n        : injector.get(\n            typeof ɵglobal.Zone !== 'undefined'\n              ? DispatchOutsideZoneNgxsExecutionStrategy\n              : NoopNgxsExecutionStrategy\n          );\n    }\n  }\n);\n\n/*\n * Execution strategy interface\n */\nexport interface NgxsExecutionStrategy {\n  enter<T>(func: () => T): T;\n  leave<T>(func: () => T): T;\n}\n","import { PlainObjectOf, StateClass } from '@ngxs/store/internals';\nimport { Observable } from 'rxjs';\n\nimport {\n  META_KEY,\n  META_OPTIONS_KEY,\n  NgxsConfig,\n  SELECTOR_META_KEY,\n  StoreOptions\n} from '../symbols';\nimport { ActionHandlerMetaData } from '../actions/symbols';\n\n// inspired from https://stackoverflow.com/a/43674389\nexport interface StateClassInternal<T = any, U = any> extends StateClass<T> {\n  [META_KEY]?: MetaDataModel;\n  [META_OPTIONS_KEY]?: StoreOptions<U>;\n}\n\nexport type StateKeyGraph = PlainObjectOf<string[]>;\nexport type StatesByName = PlainObjectOf<StateClassInternal>;\n\nexport interface StateOperations<T> {\n  getState(): T;\n\n  setState(val: T): T;\n\n  dispatch(actionOrActions: any | any[]): Observable<void>;\n}\n\nexport interface MetaDataModel {\n  name: string | null;\n  actions: PlainObjectOf<ActionHandlerMetaData[]>;\n  defaults: any;\n  path: string | null;\n  makeRootSelector: SelectorFactory | null;\n  children?: StateClassInternal[];\n}\n\nexport interface RuntimeSelectorContext {\n  getStateGetter(key: any): (state: any) => any;\n  getSelectorOptions(localOptions?: SharedSelectorOptions): SharedSelectorOptions;\n}\n\nexport type SelectFromRootState = (rootState: any) => any;\nexport type SelectorFactory = (runtimeContext: RuntimeSelectorContext) => SelectFromRootState;\n\nexport interface SharedSelectorOptions {\n  injectContainerState?: boolean;\n  suppressErrors?: boolean;\n}\n\nexport interface SelectorMetaDataModel {\n  makeRootSelector: SelectorFactory | null;\n  originalFn: Function | null;\n  containerClass: any;\n  selectorName: string | null;\n  getSelectorOptions: () => SharedSelectorOptions;\n}\n\nexport interface MappedStore {\n  name: string;\n  isInitialised: boolean;\n  actions: PlainObjectOf<ActionHandlerMetaData[]>;\n  defaults: any;\n  instance: any;\n  path: string;\n}\n\nexport interface StatesAndDefaults {\n  defaults: any;\n  states: MappedStore[];\n}\n\n/**\n * Ensures metadata is attached to the class and returns it.\n *\n * @ignore\n */\nexport function ensureStoreMetadata(target: StateClassInternal): MetaDataModel {\n  if (!target.hasOwnProperty(META_KEY)) {\n    const defaultMetadata: MetaDataModel = {\n      name: null,\n      actions: {},\n      defaults: {},\n      path: null,\n      makeRootSelector(context: RuntimeSelectorContext) {\n        return context.getStateGetter(defaultMetadata.name);\n      },\n      children: []\n    };\n\n    Object.defineProperty(target, META_KEY, { value: defaultMetadata });\n  }\n  return getStoreMetadata(target);\n}\n\n/**\n * Get the metadata attached to the state class if it exists.\n *\n * @ignore\n */\nexport function getStoreMetadata(target: StateClassInternal): MetaDataModel {\n  return target[META_KEY]!;\n}\n\n/**\n * Ensures metadata is attached to the selector and returns it.\n *\n * @ignore\n */\nexport function ensureSelectorMetadata(target: Function): SelectorMetaDataModel {\n  if (!target.hasOwnProperty(SELECTOR_META_KEY)) {\n    const defaultMetadata: SelectorMetaDataModel = {\n      makeRootSelector: null,\n      originalFn: null,\n      containerClass: null,\n      selectorName: null,\n      getSelectorOptions: () => ({})\n    };\n\n    Object.defineProperty(target, SELECTOR_META_KEY, { value: defaultMetadata });\n  }\n\n  return getSelectorMetadata(target);\n}\n\n/**\n * Get the metadata attached to the selector if it exists.\n *\n * @ignore\n */\nexport function getSelectorMetadata(target: any): SelectorMetaDataModel {\n  return target[SELECTOR_META_KEY];\n}\n\n/**\n * Get a deeply nested value. Example:\n *\n *    getValue({ foo: bar: [] }, 'foo.bar') //=> []\n *\n * Note: This is not as fast as the `fastPropGetter` but is strict Content Security Policy compliant.\n * See perf hit: https://jsperf.com/fast-value-getter-given-path/1\n *\n * @ignore\n */\nfunction compliantPropGetter(paths: string[]): (x: any) => any {\n  const copyOfPaths = paths.slice();\n  return obj => copyOfPaths.reduce((acc: any, part: string) => acc && acc[part], obj);\n}\n\n/**\n * The generated function is faster than:\n * - pluck (Observable operator)\n * - memoize\n *\n * @ignore\n */\nfunction fastPropGetter(paths: string[]): (x: any) => any {\n  const segments = paths;\n  let seg = 'store.' + segments[0];\n  let i = 0;\n  const l = segments.length;\n\n  let expr = seg;\n  while (++i < l) {\n    expr = expr + ' && ' + (seg = seg + '.' + segments[i]);\n  }\n\n  const fn = new Function('store', 'return ' + expr + ';');\n\n  return <(x: any) => any>fn;\n}\n\n/**\n * Get a deeply nested value. Example:\n *\n *    getValue({ foo: bar: [] }, 'foo.bar') //=> []\n *\n * @ignore\n */\nexport function propGetter(paths: string[], config: NgxsConfig) {\n  if (config && config.compatibility && config.compatibility.strictContentSecurityPolicy) {\n    return compliantPropGetter(paths);\n  } else {\n    return fastPropGetter(paths);\n  }\n}\n\n/**\n * Given an array of states, it will return a object graph. Example:\n *    const states = [\n *      Cart,\n *      CartSaved,\n *      CartSavedItems\n *    ]\n *\n * would return:\n *\n *  const graph = {\n *    cart: ['saved'],\n *    saved: ['items'],\n *    items: []\n *  };\n *\n * @ignore\n */\nexport function buildGraph(stateClasses: StateClassInternal[]): StateKeyGraph {\n  const findName = (stateClass: StateClassInternal) => {\n    const meta = stateClasses.find(g => g === stateClass);\n\n    // Caretaker note: we have still left the `typeof` condition in order to avoid\n    // creating a breaking change for projects that still use the View Engine.\n    if ((typeof ngDevMode === 'undefined' || ngDevMode) && !meta) {\n      throw new Error(\n        `Child state not found: ${stateClass}. \\r\\nYou may have forgotten to add states to module`\n      );\n    }\n\n    return meta![META_KEY]!.name!;\n  };\n\n  return stateClasses.reduce<StateKeyGraph>(\n    (result: StateKeyGraph, stateClass: StateClassInternal) => {\n      const { name, children } = stateClass[META_KEY]!;\n      result[name!] = (children || []).map(findName);\n      return result;\n    },\n    {}\n  );\n}\n\n/**\n * Given a states array, returns object graph\n * returning the name and state metadata. Example:\n *\n *  const graph = {\n *    cart: { metadata }\n *  };\n *\n * @ignore\n */\nexport function nameToState(states: StateClassInternal[]): PlainObjectOf<StateClassInternal> {\n  return states.reduce<PlainObjectOf<StateClassInternal>>(\n    (result: PlainObjectOf<StateClassInternal>, stateClass: StateClassInternal) => {\n      const meta = stateClass[META_KEY]!;\n      result[meta.name!] = stateClass;\n      return result;\n    },\n    {}\n  );\n}\n\n/**\n * Given a object relationship graph will return the full path\n * for the child items. Example:\n *\n *  const graph = {\n *    cart: ['saved'],\n *    saved: ['items'],\n *    items: []\n *  };\n *\n * would return:\n *\n *  const r = {\n *    cart: 'cart',\n *    saved: 'cart.saved',\n *    items: 'cart.saved.items'\n *  };\n *\n * @ignore\n */\nexport function findFullParentPath(\n  obj: StateKeyGraph,\n  newObj: PlainObjectOf<string> = {}\n): PlainObjectOf<string> {\n  const visit = (child: StateKeyGraph, keyToFind: string): string | null => {\n    for (const key in child) {\n      if (child.hasOwnProperty(key) && child[key].indexOf(keyToFind) >= 0) {\n        const parent = visit(child, key);\n        return parent !== null ? `${parent}.${key}` : key;\n      }\n    }\n    return null;\n  };\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      const parent = visit(obj, key);\n      newObj[key] = parent ? `${parent}.${key}` : key;\n    }\n  }\n\n  return newObj;\n}\n\n/**\n * Given a object graph, it will return the items topologically sorted Example:\n *\n *  const graph = {\n *    cart: ['saved'],\n *    saved: ['items'],\n *    items: []\n *  };\n *\n * would return:\n *\n *  const results = [\n *    'items',\n *    'saved',\n *    'cart'\n *  ];\n *\n * @ignore\n */\nexport function topologicalSort(graph: StateKeyGraph): string[] {\n  const sorted: string[] = [];\n  const visited: PlainObjectOf<boolean> = {};\n\n  const visit = (name: string, ancestors: string[] = []) => {\n    if (!Array.isArray(ancestors)) {\n      ancestors = [];\n    }\n\n    ancestors.push(name);\n    visited[name] = true;\n\n    graph[name].forEach((dep: string) => {\n      // Caretaker note: we have still left the `typeof` condition in order to avoid\n      // creating a breaking change for projects that still use the View Engine.\n      if ((typeof ngDevMode === 'undefined' || ngDevMode) && ancestors.indexOf(dep) >= 0) {\n        throw new Error(\n          `Circular dependency '${dep}' is required by '${name}': ${ancestors.join(' -> ')}`\n        );\n      }\n\n      if (visited[dep]) {\n        return;\n      }\n\n      visit(dep, ancestors.slice(0));\n    });\n\n    if (sorted.indexOf(name) < 0) {\n      sorted.push(name);\n    }\n  };\n\n  Object.keys(graph).forEach(k => visit(k));\n\n  return sorted.reverse();\n}\n\n/**\n * Returns if the parameter is a object or not.\n *\n * @ignore\n */\nexport function isObject(obj: any) {\n  return (typeof obj === 'object' && obj !== null) || typeof obj === 'function';\n}\n","import { OperatorFunction, Observable } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\n\nimport { ActionType } from '../actions/symbols';\nimport { getActionTypeFromInstance } from '../utils/utils';\nimport { ActionContext, ActionStatus } from '../actions-stream';\n\ntype TupleKeys<T extends any[]> = Exclude<keyof T, keyof []>;\n\n/**\n * Given a POJO, returns the POJO type, given a class constructor object, returns the type of the class.\n *\n * This utility type exists due to the complexity of ActionType being either an ActionDef class or the plain\n * `{ type: string }` type (or similar compatible POJO types).\n */\ntype Constructed<T> = T extends new (...args: any[]) => infer U ? U : T;\n\nexport interface ActionCompletion<T = any, E = Error> {\n  action: T;\n  result: {\n    successful: boolean;\n    canceled: boolean;\n    error?: E;\n  };\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will grab actions that have just been dispatched as well as actions that have completed\n */\nexport function ofAction<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  Constructed<T[TupleKeys<T>]>\n> {\n  return ofActionOperator(allowedTypes);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been dispatched\n */\nexport function ofActionDispatched<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  Constructed<T[TupleKeys<T>]>\n> {\n  return ofActionOperator(allowedTypes, [ActionStatus.Dispatched]);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been successfully completed\n */\nexport function ofActionSuccessful<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  Constructed<T[TupleKeys<T>]>\n> {\n  return ofActionOperator(allowedTypes, [ActionStatus.Successful]);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been canceled\n */\nexport function ofActionCanceled<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  Constructed<T[TupleKeys<T>]>\n> {\n  return ofActionOperator(allowedTypes, [ActionStatus.Canceled]);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been completed\n */\nexport function ofActionCompleted<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  ActionCompletion<Constructed<T[TupleKeys<T>]>>\n> {\n  const allowedStatuses = [\n    ActionStatus.Successful,\n    ActionStatus.Canceled,\n    ActionStatus.Errored\n  ];\n  return ofActionOperator(allowedTypes, allowedStatuses, mapActionResult);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just thrown an error\n */\nexport function ofActionErrored<T extends ActionType[]>(\n  ...allowedTypes: T\n): OperatorFunction<\n  ActionContext<Constructed<T[TupleKeys<T>]>>,\n  Constructed<T[TupleKeys<T>]>\n> {\n  return ofActionOperator(allowedTypes, [ActionStatus.Errored]);\n}\n\nfunction ofActionOperator(\n  allowedTypes: ActionType[],\n  statuses?: ActionStatus[],\n  // This actually could've been `OperatorFunction<ActionContext, ActionCompletion | any>`,\n  // since it maps either to `ctx.action` OR to `ActionCompletion`. But `ActionCompleteion | any`\n  // defaults to `any`, thus there is no sense from union type.\n  mapOperator: () => OperatorFunction<ActionContext, any> = mapAction\n): OperatorFunction<ActionContext, any> {\n  const allowedMap = createAllowedActionTypesMap(allowedTypes);\n  const allowedStatusMap = statuses && createAllowedStatusesMap(statuses);\n  return function(o: Observable<ActionContext>) {\n    return o.pipe(filterStatus(allowedMap, allowedStatusMap), mapOperator());\n  };\n}\n\nfunction filterStatus(allowedTypes: FilterMap, allowedStatuses?: FilterMap) {\n  return filter((ctx: ActionContext) => {\n    const actionType = getActionTypeFromInstance(ctx.action)!;\n    const typeMatch = allowedTypes[actionType];\n    const statusMatch = allowedStatuses ? allowedStatuses[ctx.status] : true;\n    return typeMatch && statusMatch;\n  });\n}\n\nfunction mapActionResult(): OperatorFunction<ActionContext, ActionCompletion> {\n  return map(({ action, status, error }: ActionContext) => {\n    return <ActionCompletion>{\n      action,\n      result: {\n        successful: ActionStatus.Successful === status,\n        canceled: ActionStatus.Canceled === status,\n        error\n      }\n    };\n  });\n}\n\nfunction mapAction<T = any>(): OperatorFunction<ActionContext, T> {\n  return map((ctx: ActionContext) => <T>ctx.action);\n}\n\ninterface FilterMap {\n  [key: string]: boolean;\n}\n\nfunction createAllowedActionTypesMap(types: ActionType[]): FilterMap {\n  return types.reduce((filterMap: FilterMap, klass: any) => {\n    filterMap[getActionTypeFromInstance(klass)!] = true;\n    return filterMap;\n  }, <FilterMap>{});\n}\n\nfunction createAllowedStatusesMap(statuses: ActionStatus[]): FilterMap {\n  return statuses.reduce((filterMap: FilterMap, status: ActionStatus) => {\n    filterMap[status] = true;\n    return filterMap;\n  }, <FilterMap>{});\n}\n","import { getStoreMetadata, StateClassInternal, StatesByName } from '../internal/internals';\nimport {\n  throwStateDecoratorError,\n  throwStateNameError,\n  throwStateNamePropertyError,\n  throwStateUniqueError\n} from '../configs/messages.config';\n\nexport abstract class StoreValidators {\n  private static stateNameRegex = new RegExp('^[a-zA-Z0-9_]+$');\n\n  static checkThatStateIsNamedCorrectly(name: string | null): void | never {\n    if (!name) {\n      throwStateNamePropertyError();\n    } else if (!this.stateNameRegex.test(name)) {\n      throwStateNameError(name);\n    }\n  }\n\n  static checkThatStateNameIsUnique(\n    stateName: string,\n    state: StateClassInternal,\n    statesByName: StatesByName\n  ): void | never {\n    const existingState = statesByName[stateName];\n    if (existingState && existingState !== state) {\n      throwStateUniqueError(stateName, state.name, existingState.name);\n    }\n  }\n\n  static checkThatStateClassesHaveBeenDecorated(\n    stateClasses: StateClassInternal[]\n  ): void | never {\n    stateClasses.forEach((stateClass: StateClassInternal) => {\n      if (!getStoreMetadata(stateClass)) {\n        throwStateDecoratorError(stateClass.name);\n      }\n    });\n  }\n}\n","import { getUndecoratedStateInIvyWarningMessage } from '../configs/messages.config';\n\n/**\n * All provided or injected tokens must have `@Injectable` decorator\n * (previously, injected tokens without `@Injectable` were allowed\n * if another decorator was used, e.g. pipes).\n */\nexport function ensureStateClassIsInjectable(stateClass: any): void {\n  if (jit_hasInjectableAnnotation(stateClass) || aot_hasNgInjectableDef(stateClass)) {\n    return;\n  }\n\n  console.warn(getUndecoratedStateInIvyWarningMessage(stateClass.name));\n}\n\nfunction aot_hasNgInjectableDef(stateClass: any): boolean {\n  // `ɵprov` is a static property added by the NGCC compiler. It always exists in\n  // AOT mode because this property is added before runtime. If an application is running in\n  // JIT mode then this property can be added by the `@Injectable()` decorator. The `@Injectable()`\n  // decorator has to go after the `@State()` decorator, thus we prevent users from unwanted DI errors.\n  return !!stateClass.ɵprov;\n}\n\nfunction jit_hasInjectableAnnotation(stateClass: any): boolean {\n  // `ɵprov` doesn't exist in JIT mode (for instance when running unit tests with Jest).\n  const annotations = stateClass.__annotations__ || [];\n  return annotations.some((annotation: any) => annotation?.ngMetadataName === 'Injectable');\n}\n","import { PlainObject } from '@ngxs/store/internals';\n\n/**\n * Init action\n */\nexport class InitState {\n  static get type() {\n    // NOTE: Not necessary to declare the type in this way in your code. See https://github.com/ngxs/store/pull/644#issuecomment-436003138\n    return '@@INIT';\n  }\n}\n\n/**\n * Update action\n */\nexport class UpdateState {\n  static get type() {\n    // NOTE: Not necessary to declare the type in this way in your code. See https://github.com/ngxs/store/pull/644#issuecomment-436003138\n    return '@@UPDATE_STATE';\n  }\n\n  constructor(public addedStates?: PlainObject) {}\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { ActionType } from '../actions/symbols';\n\nexport interface NgxsDevelopmentOptions {\n  // This allows setting only `true` because there's no reason to set `false`.\n  // Developers may just skip importing the development module at all.\n  warnOnUnhandledActions:\n    | true\n    | {\n        ignore: ActionType[];\n      };\n}\n\nexport const NGXS_DEVELOPMENT_OPTIONS = new InjectionToken<NgxsDevelopmentOptions>(\n  'NGXS_DEVELOPMENT_OPTIONS',\n  {\n    providedIn: 'root',\n    factory: () => ({ warnOnUnhandledActions: true })\n  }\n);\n","import { Inject, Injectable } from '@angular/core';\n\nimport { ActionType } from '../actions/symbols';\nimport { getActionTypeFromInstance } from '../utils/utils';\nimport { InitState, UpdateState } from '../actions/actions';\nimport { NgxsDevelopmentOptions, NGXS_DEVELOPMENT_OPTIONS } from './symbols';\n\n@Injectable()\nexport class NgxsUnhandledActionsLogger {\n  /**\n   * These actions should be ignored by default; the user can increase this\n   * list in the future via the `ignoreActions` method.\n   */\n  private _ignoredActions = new Set<string>([InitState.type, UpdateState.type]);\n\n  constructor(@Inject(NGXS_DEVELOPMENT_OPTIONS) options: NgxsDevelopmentOptions) {\n    if (typeof options.warnOnUnhandledActions === 'object') {\n      this.ignoreActions(...options.warnOnUnhandledActions.ignore);\n    }\n  }\n\n  /**\n   * Adds actions to the internal list of actions that should be ignored.\n   */\n  ignoreActions(...actions: ActionType[]): void {\n    for (const action of actions) {\n      this._ignoredActions.add(action.type);\n    }\n  }\n\n  /** @internal */\n  warn(action: any): void {\n    const actionShouldBeIgnored = Array.from(this._ignoredActions).some(\n      type => type === getActionTypeFromInstance(action)\n    );\n\n    if (actionShouldBeIgnored) {\n      return;\n    }\n\n    action =\n      action.constructor && action.constructor.name !== 'Object'\n        ? action.constructor.name\n        : action.type;\n\n    console.warn(\n      `The ${action} action has been dispatched but hasn't been handled. This may happen if the state with an action handler for this action is not registered.`\n    );\n  }\n}\n","import { MonoTypeOperatorFunction, Observable, Observer } from 'rxjs';\nimport { NgxsExecutionStrategy } from '../execution/symbols';\n\n/**\n * Returns operator that will run\n * `subscribe` outside of the ngxs execution context\n */\nexport function leaveNgxs<T>(\n  ngxsExecutionStrategy: NgxsExecutionStrategy\n): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    return new Observable((sink: Observer<T>) => {\n      return source.subscribe({\n        next(value) {\n          ngxsExecutionStrategy.leave(() => sink.next(value));\n        },\n        error(error) {\n          ngxsExecutionStrategy.leave(() => sink.error(error));\n        },\n        complete() {\n          ngxsExecutionStrategy.leave(() => sink.complete());\n        }\n      });\n    });\n  };\n}\n","import { Subject, BehaviorSubject } from 'rxjs';\n\n/**\n * This wraps the provided function, and will enforce the following:\n * - The calls will execute in the order that they are made\n * - A call will only be initiated when the previous call has completed\n * - If there is a call currently executing then the new call will be added\n *   to the queue and the function will return immediately\n *\n * NOTE: The following assumptions about the operation must hold true:\n * - The operation is synchronous in nature\n * - If any asynchronous side effects of the call exist, it should not\n *   have any bearing on the correctness of the next call in the queue\n * - The operation has a void return\n * - The caller should not assume that the call has completed upon\n *   return of the function\n * - The caller can assume that all the queued calls will complete\n *   within the current microtask\n * - The only way that a call will encounter another call in the queue\n *   would be if the call at the front of the queue initiated this call\n *   as part of its synchronous execution\n */\nfunction orderedQueueOperation<TArgs extends any[]>(operation: (...args: TArgs) => void) {\n  const callsQueue: TArgs[] = [];\n  let busyPushingNext = false;\n  return function callOperation(...args: TArgs) {\n    if (busyPushingNext) {\n      callsQueue.unshift(args);\n      return;\n    }\n    busyPushingNext = true;\n    operation(...args);\n    while (callsQueue.length > 0) {\n      const nextCallArgs = callsQueue.pop();\n      nextCallArgs && operation(...nextCallArgs);\n    }\n    busyPushingNext = false;\n  };\n}\n\n/**\n * Custom Subject that ensures that subscribers are notified of values in the order that they arrived.\n * A standard Subject does not have this guarantee.\n * For example, given the following code:\n * ```typescript\n *   const subject = new Subject<string>();\n     subject.subscribe(value => {\n       if (value === 'start') subject.next('end');\n     });\n     subject.subscribe(value => { });\n     subject.next('start');\n * ```\n * When `subject` is a standard `Subject<T>` the second subscriber would recieve `end` and then `start`.\n * When `subject` is a `OrderedSubject<T>` the second subscriber would recieve `start` and then `end`.\n */\nexport class OrderedSubject<T> extends Subject<T> {\n  private _orderedNext = orderedQueueOperation((value?: T) => super.next(value));\n\n  next(value?: T): void {\n    this._orderedNext(value);\n  }\n}\n\n/**\n * Custom BehaviorSubject that ensures that subscribers are notified of values in the order that they arrived.\n * A standard BehaviorSubject does not have this guarantee.\n * For example, given the following code:\n * ```typescript\n *   const subject = new BehaviorSubject<string>();\n     subject.subscribe(value => {\n       if (value === 'start') subject.next('end');\n     });\n     subject.subscribe(value => { });\n     subject.next('start');\n * ```\n * When `subject` is a standard `BehaviorSubject<T>` the second subscriber would recieve `end` and then `start`.\n * When `subject` is a `OrderedBehaviorSubject<T>` the second subscriber would recieve `start` and then `end`.\n */\nexport class OrderedBehaviorSubject<T> extends BehaviorSubject<T> {\n  private _orderedNext = orderedQueueOperation((value: T) => super.next(value));\n  private _currentValue: T;\n\n  constructor(value: T) {\n    super(value);\n    this._currentValue = value;\n  }\n\n  getValue(): T {\n    return this._currentValue;\n  }\n\n  next(value: T): void {\n    this._currentValue = value;\n    this._orderedNext(value);\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\n\nimport { NgxsExecutionStrategy, NGXS_EXECUTION_STRATEGY } from './symbols';\n\n@Injectable({ providedIn: 'root' })\nexport class InternalNgxsExecutionStrategy implements NgxsExecutionStrategy {\n  constructor(\n    @Inject(NGXS_EXECUTION_STRATEGY) private _executionStrategy: NgxsExecutionStrategy\n  ) {}\n\n  enter<T>(func: () => T): T {\n    return this._executionStrategy.enter(func);\n  }\n\n  leave<T>(func: () => T): T {\n    return this._executionStrategy.leave(func);\n  }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\nimport { leaveNgxs } from './operators/leave-ngxs';\nimport { InternalNgxsExecutionStrategy } from './execution/internal-ngxs-execution-strategy';\nimport { OrderedSubject } from './internal/custom-rxjs-subjects';\n\n/**\n * Status of a dispatched action\n */\nexport const enum ActionStatus {\n  Dispatched = 'DISPATCHED',\n  Successful = 'SUCCESSFUL',\n  Canceled = 'CANCELED',\n  Errored = 'ERRORED'\n}\n\nexport interface ActionContext<T = any> {\n  status: ActionStatus;\n  action: T;\n  error?: Error;\n}\n\n/**\n * Internal Action stream that is emitted anytime an action is dispatched.\n */\n@Injectable({ providedIn: 'root' })\nexport class InternalActions extends OrderedSubject<ActionContext> implements OnDestroy {\n  ngOnDestroy(): void {\n    this.complete();\n  }\n}\n\n/**\n * Action stream that is emitted anytime an action is dispatched.\n *\n * You can listen to this in services to react without stores.\n */\n@Injectable({ providedIn: 'root' })\nexport class Actions extends Observable<ActionContext> {\n  constructor(\n    internalActions$: InternalActions,\n    internalExecutionStrategy: InternalNgxsExecutionStrategy\n  ) {\n    const sharedInternalActions$ = internalActions$.pipe(\n      leaveNgxs(internalExecutionStrategy),\n      // The `InternalActions` subject emits outside of the Angular zone.\n      // We have to re-enter the Angular zone for any incoming consumer.\n      // The `share()` operator reduces the number of change detections.\n      // This would call leave only once for any stream emission across all active subscribers.\n      share()\n    );\n\n    super(observer => {\n      const childSubscription = sharedInternalActions$.subscribe({\n        next: ctx => observer.next(ctx),\n        error: error => observer.error(error),\n        complete: () => observer.complete()\n      });\n\n      observer.add(childSubscription);\n    });\n  }\n}\n","export type StateFn = (...args: any[]) => any;\n\n/**\n * Composes a array of functions from left to right. Example:\n *\n *      compose([fn, final])(state, action);\n *\n * then the funcs have a signature like:\n *\n *      function fn (state, action, next) {\n *          console.log('here', state, action, next);\n *          return next(state, action);\n *      }\n *\n *      function final (state, action) {\n *          console.log('here', state, action);\n *          return state;\n *      }\n *\n * the last function should not call `next`.\n *\n * @ignore\n */\nexport const compose = (funcs: StateFn[]) => (...args: any[]) => {\n  const curr = funcs.shift()!;\n  return curr(...args, (...nextArgs: any[]) => compose(funcs)(...nextArgs));\n};\n","import { ErrorHandler, Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { leaveNgxs } from '../operators/leave-ngxs';\nimport { NgxsExecutionStrategy } from '../execution/symbols';\n\n/**\n * This operator is used for piping the observable result\n * from the `dispatch()`. It has a \"smart\" error handling\n * strategy that allows us to decide whether we propagate\n * errors to Angular's `ErrorHandler` or enable users to\n * handle them manually. We consider following cases:\n * 1) `store.dispatch()` (no subscribe) -> call `handleError()`\n * 2) `store.dispatch().subscribe()` (no error callback) -> call `handleError()`\n * 3) `store.dispatch().subscribe({ error: ... })` -> don't call `handleError()`\n * 4) `toPromise()` without `catch` -> do `handleError()`\n * 5) `toPromise()` with `catch` -> don't `handleError()`\n */\nexport function ngxsErrorHandler<T>(\n  internalErrorReporter: InternalErrorReporter,\n  ngxsExecutionStrategy: NgxsExecutionStrategy\n) {\n  return (source: Observable<T>) => {\n    let subscribed = false;\n\n    source.subscribe({\n      error: error => {\n        // Do not trigger change detection for a microtask. This depends on the execution\n        // strategy being used, but the default `DispatchOutsideZoneNgxsExecutionStrategy`\n        // leaves the Angular zone.\n        ngxsExecutionStrategy.enter(() =>\n          Promise.resolve().then(() => {\n            if (!subscribed) {\n              ngxsExecutionStrategy.leave(() =>\n                internalErrorReporter.reportErrorSafely(error)\n              );\n            }\n          })\n        );\n      }\n    });\n\n    return new Observable(subscriber => {\n      subscribed = true;\n      return source.pipe(leaveNgxs(ngxsExecutionStrategy)).subscribe(subscriber);\n    });\n  };\n}\n\n@Injectable({ providedIn: 'root' })\nexport class InternalErrorReporter {\n  /** Will be set lazily to be backward compatible. */\n  private _errorHandler: ErrorHandler = null!;\n\n  constructor(private _injector: Injector) {}\n\n  reportErrorSafely(error: any): void {\n    if (this._errorHandler === null) {\n      this._errorHandler = this._injector.get(ErrorHandler);\n    }\n    // The `try-catch` is used to avoid handling the error twice. Suppose we call\n    // `handleError` which re-throws the error internally. The re-thrown error will\n    // be caught by zone.js which will then get to the `zone.onError.emit()` and the\n    // `onError` subscriber will call `handleError` again.\n    try {\n      this._errorHandler.handleError(error);\n    } catch {}\n  }\n}\n","import { Inject, Injectable, Optional, SkipSelf } from '@angular/core';\nimport { NGXS_PLUGINS, NgxsPlugin, NgxsPluginFn } from './symbols';\n\n@Injectable()\nexport class PluginManager {\n  public plugins: NgxsPluginFn[] = [];\n\n  constructor(\n    @Optional()\n    @SkipSelf()\n    private _parentManager: PluginManager,\n    @Inject(NGXS_PLUGINS)\n    @Optional()\n    private _pluginHandlers: NgxsPlugin[]\n  ) {\n    this.registerHandlers();\n  }\n\n  private get rootPlugins(): NgxsPluginFn[] {\n    return (this._parentManager && this._parentManager.plugins) || this.plugins;\n  }\n\n  private registerHandlers(): void {\n    const pluginHandlers: NgxsPluginFn[] = this.getPluginHandlers();\n    this.rootPlugins.push(...pluginHandlers);\n  }\n\n  private getPluginHandlers(): NgxsPluginFn[] {\n    const handlers: NgxsPlugin[] = this._pluginHandlers || [];\n    return handlers.map(\n      (plugin: NgxsPlugin) =>\n        (plugin.handle ? plugin.handle.bind(plugin) : plugin) as NgxsPluginFn\n    );\n  }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { PlainObject } from '@ngxs/store/internals';\n\nimport { OrderedBehaviorSubject } from './custom-rxjs-subjects';\n\n/**\n * BehaviorSubject of the entire state.\n * @ignore\n */\n@Injectable({ providedIn: 'root' })\nexport class StateStream extends OrderedBehaviorSubject<PlainObject> implements OnDestroy {\n  constructor() {\n    super({});\n  }\n\n  ngOnDestroy(): void {\n    // The `StateStream` should never emit values once the root view is removed, e.g. when the `NgModuleRef.destroy()` is called.\n    // This will eliminate memory leaks in server-side rendered apps where the `StateStream` is created per each HTTP request, users\n    // might forget to unsubscribe from `store.select` or `store.subscribe`, thus this will lead to huge memory leaks in SSR apps.\n    this.complete();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { EMPTY, forkJoin, Observable, of, Subject, throwError } from 'rxjs';\nimport { exhaustMap, filter, shareReplay, take } from 'rxjs/operators';\n\nimport { compose } from '../utils/compose';\nimport { InternalErrorReporter, ngxsErrorHandler } from './error-handler';\nimport { ActionContext, ActionStatus, InternalActions } from '../actions-stream';\nimport { StateStream } from './state-stream';\nimport { PluginManager } from '../plugin-manager';\nimport { InternalNgxsExecutionStrategy } from '../execution/internal-ngxs-execution-strategy';\nimport { getActionTypeFromInstance } from '../utils/utils';\n\n/**\n * Internal Action result stream that is emitted when an action is completed.\n * This is used as a method of returning the action result to the dispatcher\n * for the observable returned by the dispatch(...) call.\n * The dispatcher then asynchronously pushes the result from this stream onto the main action stream as a result.\n */\n@Injectable({ providedIn: 'root' })\nexport class InternalDispatchedActionResults extends Subject<ActionContext> {}\n\n@Injectable({ providedIn: 'root' })\nexport class InternalDispatcher {\n  constructor(\n    private _actions: InternalActions,\n    private _actionResults: InternalDispatchedActionResults,\n    private _pluginManager: PluginManager,\n    private _stateStream: StateStream,\n    private _ngxsExecutionStrategy: InternalNgxsExecutionStrategy,\n    private _internalErrorReporter: InternalErrorReporter\n  ) {}\n\n  /**\n   * Dispatches event(s).\n   */\n  dispatch(actionOrActions: any | any[]): Observable<any> {\n    const result = this._ngxsExecutionStrategy.enter(() =>\n      this.dispatchByEvents(actionOrActions)\n    );\n\n    return result.pipe(\n      ngxsErrorHandler(this._internalErrorReporter, this._ngxsExecutionStrategy)\n    );\n  }\n\n  private dispatchByEvents(actionOrActions: any | any[]): Observable<any> {\n    if (Array.isArray(actionOrActions)) {\n      if (actionOrActions.length === 0) return of(this._stateStream.getValue());\n      return forkJoin(actionOrActions.map(action => this.dispatchSingle(action)));\n    } else {\n      return this.dispatchSingle(actionOrActions);\n    }\n  }\n\n  private dispatchSingle(action: any): Observable<any> {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const type: string | undefined = getActionTypeFromInstance(action);\n      if (!type) {\n        const error = new Error(\n          `This action doesn't have a type property: ${action.constructor.name}`\n        );\n        return throwError(error);\n      }\n    }\n\n    const prevState = this._stateStream.getValue();\n    const plugins = this._pluginManager.plugins;\n\n    return (\n      compose([\n        ...plugins,\n        (nextState: any, nextAction: any) => {\n          if (nextState !== prevState) {\n            this._stateStream.next(nextState);\n          }\n          const actionResult$ = this.getActionResultStream(nextAction);\n          actionResult$.subscribe(ctx => this._actions.next(ctx));\n          this._actions.next({ action: nextAction, status: ActionStatus.Dispatched });\n          return this.createDispatchObservable(actionResult$);\n        }\n      ])(prevState, action) as Observable<any>\n    ).pipe(shareReplay());\n  }\n\n  private getActionResultStream(action: any): Observable<ActionContext> {\n    return this._actionResults.pipe(\n      filter(\n        (ctx: ActionContext) => ctx.action === action && ctx.status !== ActionStatus.Dispatched\n      ),\n      take(1),\n      shareReplay()\n    );\n  }\n\n  private createDispatchObservable(actionResult$: Observable<ActionContext>): Observable<any> {\n    return actionResult$\n      .pipe(\n        exhaustMap((ctx: ActionContext) => {\n          switch (ctx.status) {\n            case ActionStatus.Successful:\n              return of(this._stateStream.getValue());\n            case ActionStatus.Errored:\n              return throwError(ctx.error);\n            default:\n              return EMPTY;\n          }\n        })\n      )\n      .pipe(shareReplay());\n  }\n}\n","import {\n  throwPatchingArrayError,\n  throwPatchingPrimitiveError\n} from '../configs/messages.config';\nimport { ExistingState, StateOperator } from '@ngxs/store/operators';\n\nexport function simplePatch<T>(value: Partial<T>): StateOperator<T> {\n  return (existingState: ExistingState<T>) => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (Array.isArray(value)) {\n        throwPatchingArrayError();\n      } else if (typeof value !== 'object') {\n        throwPatchingPrimitiveError();\n      }\n    }\n\n    const newState: any = { ...(existingState as any) };\n    for (const key in value) {\n      // deep clone for patch compatibility\n      newState[key] = (value as any)[key];\n    }\n\n    return newState as T;\n  };\n}\n","/**\n * Object freeze code\n * https://github.com/jsdf/deep-freeze\n */\nexport const deepFreeze = (o: any) => {\n  Object.freeze(o);\n\n  const oIsFunction = typeof o === 'function';\n  const hasOwnProp = Object.prototype.hasOwnProperty;\n\n  Object.getOwnPropertyNames(o).forEach(function(prop) {\n    if (\n      hasOwnProp.call(o, prop) &&\n      (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true) &&\n      o[prop] !== null &&\n      (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n      !Object.isFrozen(o[prop])\n    ) {\n      deepFreeze(o[prop]);\n    }\n  });\n\n  return o;\n};\n","import { Injectable } from '@angular/core';\n\nimport { StateOperations, StatesAndDefaults } from '../internal/internals';\nimport { InternalDispatcher } from '../internal/dispatcher';\nimport { StateStream } from './state-stream';\nimport { NgxsConfig } from '../symbols';\nimport { deepFreeze } from '../utils/freeze';\n\n/**\n * @ignore\n */\n@Injectable({ providedIn: 'root' })\nexport class InternalStateOperations {\n  constructor(\n    private _stateStream: StateStream,\n    private _dispatcher: InternalDispatcher,\n    private _config: NgxsConfig\n  ) {}\n\n  /**\n   * Returns the root state operators.\n   */\n  getRootStateOperations(): StateOperations<any> {\n    const rootStateOperations = {\n      getState: () => this._stateStream.getValue(),\n      setState: (newState: any) => this._stateStream.next(newState),\n      dispatch: (actionOrActions: any | any[]) => this._dispatcher.dispatch(actionOrActions)\n    };\n\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      return this._config.developmentMode\n        ? ensureStateAndActionsAreImmutable(rootStateOperations)\n        : rootStateOperations;\n    } else {\n      return rootStateOperations;\n    }\n  }\n\n  setStateToTheCurrentWithNew(results: StatesAndDefaults): void {\n    const stateOperations: StateOperations<any> = this.getRootStateOperations();\n\n    // Get our current stream\n    const currentState = stateOperations.getState();\n    // Set the state to the current + new\n    stateOperations.setState({ ...currentState, ...results.defaults });\n  }\n}\n\nfunction ensureStateAndActionsAreImmutable(root: StateOperations<any>): StateOperations<any> {\n  return {\n    getState: () => root.getState(),\n    setState: value => {\n      const frozenValue = deepFreeze(value);\n      return root.setState(frozenValue);\n    },\n    dispatch: actions => {\n      return root.dispatch(actions);\n    }\n  };\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { ExistingState, StateOperator } from '@ngxs/store/operators';\n\nimport { StateContext } from '../symbols';\nimport { MappedStore } from '../internal/internals';\nimport { setValue, getValue } from '../utils/utils';\nimport { InternalStateOperations } from '../internal/state-operations';\nimport { simplePatch } from './state-operators';\n\n/**\n * State Context factory class\n * @ignore\n */\n@Injectable({ providedIn: 'root' })\nexport class StateContextFactory {\n  constructor(private _internalStateOperations: InternalStateOperations) {}\n\n  /**\n   * Create the state context\n   */\n  createStateContext<T>(mappedStore: MappedStore): StateContext<T> {\n    const root = this._internalStateOperations.getRootStateOperations();\n\n    function getState(currentAppState: any): T {\n      return getValue(currentAppState, mappedStore.path);\n    }\n\n    function setStateValue(currentAppState: any, newValue: T): any {\n      const newAppState = setValue(currentAppState, mappedStore.path, newValue);\n      root.setState(newAppState);\n      return newAppState;\n      // In doing this refactoring I noticed that there is a 'bug' where the\n      // application state is returned instead of this state slice.\n      // This has worked this way since the beginning see:\n      // https://github.com/ngxs/store/blame/324c667b4b7debd8eb979006c67ca0ae347d88cd/src/state-factory.ts\n      // This needs to be fixed, but is a 'breaking' change.\n      // I will do this fix in a subsequent PR and we can decide how to handle it.\n    }\n\n    function setStateFromOperator(currentAppState: any, stateOperator: StateOperator<T>) {\n      const local = getState(currentAppState);\n      const newValue = stateOperator(local as ExistingState<T>);\n      return setStateValue(currentAppState, newValue);\n    }\n\n    function isStateOperator(value: T | StateOperator<T>): value is StateOperator<T> {\n      return typeof value === 'function';\n    }\n\n    return {\n      getState(): T {\n        const currentAppState = root.getState();\n        return getState(currentAppState);\n      },\n      patchState(val: Partial<T>): T {\n        const currentAppState = root.getState();\n        const patchOperator = simplePatch<T>(val);\n        return setStateFromOperator(currentAppState, patchOperator);\n      },\n      setState(val: T | StateOperator<T>): T {\n        const currentAppState = root.getState();\n        return isStateOperator(val)\n          ? setStateFromOperator(currentAppState, val)\n          : setStateValue(currentAppState, val);\n      },\n      dispatch(actions: any | any[]): Observable<void> {\n        return root.dispatch(actions);\n      }\n    };\n  }\n}\n","import { Injectable, Injector, Optional, SkipSelf, Inject, OnDestroy } from '@angular/core';\nimport {\n  forkJoin,\n  from,\n  Observable,\n  of,\n  throwError,\n  Subscription,\n  Subject,\n  isObservable\n} from 'rxjs';\nimport {\n  catchError,\n  defaultIfEmpty,\n  filter,\n  map,\n  mergeMap,\n  shareReplay,\n  takeUntil\n} from 'rxjs/operators';\nimport { INITIAL_STATE_TOKEN, PlainObjectOf, memoize } from '@ngxs/store/internals';\n\nimport { META_KEY, NgxsConfig } from '../symbols';\nimport {\n  buildGraph,\n  findFullParentPath,\n  isObject,\n  MappedStore,\n  MetaDataModel,\n  nameToState,\n  propGetter,\n  StateClassInternal,\n  StateKeyGraph,\n  StatesAndDefaults,\n  StatesByName,\n  topologicalSort,\n  RuntimeSelectorContext,\n  SharedSelectorOptions,\n  getStoreMetadata\n} from './internals';\nimport { getActionTypeFromInstance, getValue, setValue } from '../utils/utils';\nimport { ofActionDispatched } from '../operators/of-action';\nimport { ActionContext, ActionStatus, InternalActions } from '../actions-stream';\nimport { InternalDispatchedActionResults } from '../internal/dispatcher';\nimport { StateContextFactory } from '../internal/state-context-factory';\nimport { StoreValidators } from '../utils/store-validators';\nimport { ensureStateClassIsInjectable } from '../ivy/ivy-enabled-in-dev-mode';\nimport { NgxsUnhandledActionsLogger } from '../dev-features/ngxs-unhandled-actions-logger';\n\nconst NG_DEV_MODE = typeof ngDevMode === 'undefined' || ngDevMode;\n\n/**\n * The `StateFactory` class adds root and feature states to the graph.\n * This extracts state names from state classes, checks if they already\n * exist in the global graph, throws errors if their names are invalid, etc.\n * See its constructor, state factories inject state factories that are\n * parent-level providers. This is required to get feature states from the\n * injector on the same level.\n *\n * The `NgxsModule.forFeature(...)` returns `providers: [StateFactory, ...states]`.\n * The `StateFactory` is initialized on the feature level and goes through `...states`\n * to get them from the injector through `injector.get(state)`.\n * @ignore\n */\n@Injectable()\nexport class StateFactory implements OnDestroy {\n  private _actionsSubscription: Subscription | null = null;\n\n  constructor(\n    private _injector: Injector,\n    private _config: NgxsConfig,\n    @Optional()\n    @SkipSelf()\n    private _parentFactory: StateFactory,\n    private _actions: InternalActions,\n    private _actionResults: InternalDispatchedActionResults,\n    private _stateContextFactory: StateContextFactory,\n    @Optional()\n    @Inject(INITIAL_STATE_TOKEN)\n    private _initialState: any\n  ) {}\n\n  private _states: MappedStore[] = [];\n\n  get states(): MappedStore[] {\n    return this._parentFactory ? this._parentFactory.states : this._states;\n  }\n\n  private _statesByName: StatesByName = {};\n\n  get statesByName(): StatesByName {\n    return this._parentFactory ? this._parentFactory.statesByName : this._statesByName;\n  }\n\n  private _statePaths: PlainObjectOf<string> = {};\n\n  private get statePaths(): PlainObjectOf<string> {\n    return this._parentFactory ? this._parentFactory.statePaths : this._statePaths;\n  }\n\n  getRuntimeSelectorContext = memoize(() => {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const stateFactory = this;\n\n    function resolveGetter(key: string) {\n      const path = stateFactory.statePaths[key];\n      return path ? propGetter(path.split('.'), stateFactory._config) : null;\n    }\n\n    const context: RuntimeSelectorContext = this._parentFactory\n      ? this._parentFactory.getRuntimeSelectorContext()\n      : {\n          getStateGetter(key: string) {\n            let getter = resolveGetter(key);\n            if (getter) {\n              return getter;\n            }\n            return (...args) => {\n              // Late loaded getter\n              if (!getter) {\n                getter = resolveGetter(key);\n              }\n              return getter ? getter(...args) : undefined;\n            };\n          },\n          getSelectorOptions(localOptions?: SharedSelectorOptions) {\n            const globalSelectorOptions = stateFactory._config.selectorOptions;\n            return {\n              ...globalSelectorOptions,\n              ...(localOptions || {})\n            };\n          }\n        };\n    return context;\n  });\n\n  private static cloneDefaults(defaults: any): any {\n    let value = {};\n\n    if (Array.isArray(defaults)) {\n      value = defaults.slice();\n    } else if (isObject(defaults)) {\n      value = { ...defaults };\n    } else if (defaults === undefined) {\n      value = {};\n    } else {\n      value = defaults;\n    }\n\n    return value;\n  }\n\n  ngOnDestroy(): void {\n    this._actionsSubscription?.unsubscribe();\n  }\n\n  /**\n   * Add a new state to the global defs.\n   */\n  add(stateClasses: StateClassInternal[]): MappedStore[] {\n    if (NG_DEV_MODE) {\n      StoreValidators.checkThatStateClassesHaveBeenDecorated(stateClasses);\n    }\n\n    const { newStates } = this.addToStatesMap(stateClasses);\n    if (!newStates.length) return [];\n\n    const stateGraph: StateKeyGraph = buildGraph(newStates);\n    const sortedStates: string[] = topologicalSort(stateGraph);\n    const paths: PlainObjectOf<string> = findFullParentPath(stateGraph);\n    const nameGraph: PlainObjectOf<StateClassInternal> = nameToState(newStates);\n    const bootstrappedStores: MappedStore[] = [];\n\n    for (const name of sortedStates) {\n      const stateClass: StateClassInternal = nameGraph[name];\n      const path: string = paths[name];\n      const meta: MetaDataModel = stateClass[META_KEY]!;\n\n      this.addRuntimeInfoToMeta(meta, path);\n\n      // Note: previously we called `ensureStateClassIsInjectable` within the\n      // `State` decorator. This check is moved here because the `ɵprov` property\n      // will not exist on the class in JIT mode (because it's set asynchronously\n      // during JIT compilation through `Object.defineProperty`).\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        ensureStateClassIsInjectable(stateClass);\n      }\n\n      const stateMap: MappedStore = {\n        name,\n        path,\n        isInitialised: false,\n        actions: meta.actions,\n        instance: this._injector.get(stateClass),\n        defaults: StateFactory.cloneDefaults(meta.defaults)\n      };\n\n      // ensure our store hasn't already been added\n      // but don't throw since it could be lazy\n      // loaded from different paths\n      if (!this.hasBeenMountedAndBootstrapped(name, path)) {\n        bootstrappedStores.push(stateMap);\n      }\n\n      this.states.push(stateMap);\n    }\n\n    return bootstrappedStores;\n  }\n\n  /**\n   * Add a set of states to the store and return the defaults\n   */\n  addAndReturnDefaults(stateClasses: StateClassInternal[]): StatesAndDefaults {\n    const classes: StateClassInternal[] = stateClasses || [];\n\n    const mappedStores: MappedStore[] = this.add(classes);\n    const defaults = mappedStores.reduce(\n      (result: any, mappedStore: MappedStore) =>\n        setValue(result, mappedStore.path, mappedStore.defaults),\n      {}\n    );\n    return { defaults, states: mappedStores };\n  }\n\n  connectActionHandlers(): void {\n    // Note: We have to connect actions only once when the `StateFactory`\n    //       is being created for the first time. This checks if we're in\n    //       a child state factory and the parent state factory already exists.\n    if (this._parentFactory || this._actionsSubscription !== null) {\n      return;\n    }\n\n    const dispatched$ = new Subject<ActionContext>();\n    this._actionsSubscription = this._actions\n      .pipe(\n        filter((ctx: ActionContext) => ctx.status === ActionStatus.Dispatched),\n        mergeMap(ctx => {\n          dispatched$.next(ctx);\n          const action = ctx.action;\n          return this.invokeActions(dispatched$, action!).pipe(\n            map(() => <ActionContext>{ action, status: ActionStatus.Successful }),\n            defaultIfEmpty(<ActionContext>{ action, status: ActionStatus.Canceled }),\n            catchError(error =>\n              of(<ActionContext>{ action, status: ActionStatus.Errored, error })\n            )\n          );\n        })\n      )\n      .subscribe(ctx => this._actionResults.next(ctx));\n  }\n\n  /**\n   * Invoke actions on the states.\n   */\n  invokeActions(dispatched$: Observable<ActionContext>, action: any) {\n    const type = getActionTypeFromInstance(action)!;\n    const results = [];\n\n    // Determines whether the dispatched action has been handled, this is assigned\n    // to `true` within the below `for` loop if any `actionMetas` has been found.\n    let actionHasBeenHandled = false;\n\n    for (const metadata of this.states) {\n      const actionMetas = metadata.actions[type];\n\n      if (actionMetas) {\n        for (const actionMeta of actionMetas) {\n          const stateContext = this._stateContextFactory.createStateContext(metadata);\n          try {\n            let result = metadata.instance[actionMeta.fn](stateContext, action);\n\n            if (result instanceof Promise) {\n              result = from(result);\n            }\n\n            if (isObservable(result)) {\n              // If this observable has been completed w/o emitting\n              // any value then we wouldn't want to complete the whole chain\n              // of actions. Since if any observable completes then\n              // action will be canceled.\n              // For instance if any action handler would've had such statement:\n              // `handler(ctx) { return EMPTY; }`\n              // then the action will be canceled.\n              // See https://github.com/ngxs/store/issues/1568\n              result = result.pipe(\n                mergeMap((value: any) => {\n                  if (value instanceof Promise) {\n                    return from(value);\n                  }\n                  if (isObservable(value)) {\n                    return value;\n                  }\n                  return of(value);\n                }),\n                defaultIfEmpty({})\n              );\n\n              if (actionMeta.options.cancelUncompleted) {\n                // todo: ofActionDispatched should be used with action class\n                result = result.pipe(\n                  takeUntil(dispatched$.pipe(ofActionDispatched(action as any)))\n                );\n              }\n            } else {\n              result = of({}).pipe(shareReplay());\n            }\n\n            results.push(result);\n          } catch (e) {\n            results.push(throwError(e));\n          }\n\n          actionHasBeenHandled = true;\n        }\n      }\n    }\n\n    // The `NgxsUnhandledActionsLogger` is a tree-shakable class which functions\n    // only during development.\n    if (NG_DEV_MODE && !actionHasBeenHandled) {\n      const unhandledActionsLogger = this._injector.get(NgxsUnhandledActionsLogger, null);\n      // The `NgxsUnhandledActionsLogger` will not be resolved by the injector if the\n      // `NgxsDevelopmentModule` is not provided. It's enough to check whether the `injector.get`\n      // didn't return `null` so we may ensure the module has been imported.\n      if (unhandledActionsLogger) {\n        unhandledActionsLogger.warn(action);\n      }\n    }\n\n    if (!results.length) {\n      results.push(of({}));\n    }\n\n    return forkJoin(results);\n  }\n\n  private addToStatesMap(stateClasses: StateClassInternal[]): {\n    newStates: StateClassInternal[];\n  } {\n    const newStates: StateClassInternal[] = [];\n    const statesMap: StatesByName = this.statesByName;\n\n    for (const stateClass of stateClasses) {\n      const stateName = getStoreMetadata(stateClass).name!;\n      if (NG_DEV_MODE) {\n        StoreValidators.checkThatStateNameIsUnique(stateName, stateClass, statesMap);\n      }\n      const unmountedState = !statesMap[stateName];\n      if (unmountedState) {\n        newStates.push(stateClass);\n        statesMap[stateName] = stateClass;\n      }\n    }\n\n    return { newStates };\n  }\n\n  private addRuntimeInfoToMeta(meta: MetaDataModel, path: string): void {\n    this.statePaths[meta.name!] = path;\n    // TODO: v4 - we plan to get rid of the path property because it is non-deterministic\n    // we can do this when we get rid of the incorrectly exposed getStoreMetadata\n    // We will need to come up with an alternative in v4 because this is used by many plugins\n    meta.path = path;\n  }\n\n  private hasBeenMountedAndBootstrapped(name: string, path: string): boolean {\n    const valueIsBootstrappedInInitialState: boolean =\n      getValue(this._initialState, path) !== undefined;\n    // This checks whether a state has been already added to the global graph and\n    // its lifecycle is in 'bootstrapped' state.\n    return this.statesByName[name] && valueIsBootstrappedInInitialState;\n  }\n}\n","import { memoize } from '@ngxs/store/internals';\n\nimport {\n  getSelectorMetadata,\n  getStoreMetadata,\n  SelectorMetaDataModel,\n  SharedSelectorOptions,\n  RuntimeSelectorContext,\n  SelectorFactory,\n} from '../internal/internals';\nimport { CreationMetadata, RuntimeSelectorInfo } from './selector-models';\n\nexport function createRootSelectorFactory<T extends (...args: any[]) => any>(\n  selectorMetaData: SelectorMetaDataModel,\n  selectors: any[] | undefined,\n  memoizedSelectorFn: T\n): SelectorFactory {\n  return (context: RuntimeSelectorContext) => {\n    const { argumentSelectorFunctions, selectorOptions } = getRuntimeSelectorInfo(\n      context,\n      selectorMetaData,\n      selectors\n    );\n\n    return function selectFromRoot(rootState: any) {\n      // Determine arguments from the app state using the selectors\n      const results = argumentSelectorFunctions.map((argFn) => argFn(rootState));\n\n      // if the lambda tries to access a something on the\n      // state that doesn't exist, it will throw a TypeError.\n      // since this is quite usual behaviour, we simply return undefined if so.\n      try {\n        return memoizedSelectorFn(...results);\n      } catch (ex) {\n        if (ex instanceof TypeError && selectorOptions.suppressErrors) {\n          return undefined;\n        }\n\n        throw ex;\n      }\n    };\n  };\n}\n\nexport function createMemoizedSelectorFn<T extends (...args: any[]) => any>(\n  originalFn: T,\n  creationMetadata: Partial<CreationMetadata> | undefined\n) {\n  const containerClass = creationMetadata && creationMetadata.containerClass;\n  const wrappedFn = function wrappedSelectorFn(...args: any[]) {\n    const returnValue = originalFn.apply(containerClass, args);\n    if (returnValue instanceof Function) {\n      const innerMemoizedFn = memoize.apply(null, [returnValue]);\n      return innerMemoizedFn;\n    }\n    return returnValue;\n  } as T;\n  const memoizedFn = memoize(wrappedFn);\n  Object.setPrototypeOf(memoizedFn, originalFn);\n  return memoizedFn;\n}\n\nfunction getRuntimeSelectorInfo(\n  context: RuntimeSelectorContext,\n  selectorMetaData: SelectorMetaDataModel,\n  selectors: any[] | undefined = []\n): RuntimeSelectorInfo {\n  const localSelectorOptions = selectorMetaData.getSelectorOptions();\n  const selectorOptions = context.getSelectorOptions(localSelectorOptions);\n  const selectorsToApply = getSelectorsToApply(\n    selectors,\n    selectorOptions,\n    selectorMetaData.containerClass\n  );\n\n  const argumentSelectorFunctions = selectorsToApply.map((selector) => {\n    const factory = getRootSelectorFactory(selector);\n    return factory(context);\n  });\n  return {\n    selectorOptions,\n    argumentSelectorFunctions,\n  };\n}\n\nfunction getSelectorsToApply(\n  selectors: any[] | undefined = [],\n  selectorOptions: SharedSelectorOptions,\n  containerClass: any\n) {\n  const selectorsToApply = [];\n  const canInjectContainerState =\n    selectors.length === 0 || selectorOptions.injectContainerState;\n  if (containerClass && canInjectContainerState) {\n    // If we are on a state class, add it as the first selector parameter\n    const metadata = getStoreMetadata(containerClass);\n    if (metadata) {\n      selectorsToApply.push(containerClass);\n    }\n  }\n  if (selectors) {\n    selectorsToApply.push(...selectors);\n  }\n  return selectorsToApply;\n}\n\n/**\n * This function gets the factory function to create the selector to get the selected slice from the app state\n * @ignore\n */\nexport function getRootSelectorFactory(selector: any): SelectorFactory {\n  const metadata = getSelectorMetadata(selector) || getStoreMetadata(selector);\n  return (metadata && metadata.makeRootSelector) || (() => selector);\n}\n","// tslint:disable:unified-signatures\nimport { Inject, Injectable, Optional, Type } from '@angular/core';\nimport { Observable, of, Subscription, throwError } from 'rxjs';\nimport { catchError, distinctUntilChanged, map, shareReplay, take } from 'rxjs/operators';\nimport { INITIAL_STATE_TOKEN, PlainObject } from '@ngxs/store/internals';\n\nimport { InternalNgxsExecutionStrategy } from './execution/internal-ngxs-execution-strategy';\nimport { InternalStateOperations } from './internal/state-operations';\nimport { getRootSelectorFactory } from './selectors/selector-utils';\nimport { StateStream } from './internal/state-stream';\nimport { leaveNgxs } from './operators/leave-ngxs';\nimport { NgxsConfig } from './symbols';\nimport { StateToken } from './state-token/state-token';\nimport { StateFactory } from './internal/state-factory';\n\n@Injectable({ providedIn: 'root' })\nexport class Store {\n  /**\n   * This is a derived state stream that leaves NGXS execution strategy to emit state changes within the Angular zone,\n   * because state is being changed actually within the `<root>` zone, see `InternalDispatcher#dispatchSingle`.\n   * All selects would use this stream, and it would call leave only once for any state change across all active selectors.\n   */\n  private _selectableStateStream = this._stateStream.pipe(\n    leaveNgxs(this._internalExecutionStrategy),\n    shareReplay({ bufferSize: 1, refCount: true })\n  );\n\n  constructor(\n    private _stateStream: StateStream,\n    private _internalStateOperations: InternalStateOperations,\n    private _config: NgxsConfig,\n    private _internalExecutionStrategy: InternalNgxsExecutionStrategy,\n    private _stateFactory: StateFactory,\n    @Optional()\n    @Inject(INITIAL_STATE_TOKEN)\n    initialStateValue: any\n  ) {\n    this.initStateStream(initialStateValue);\n  }\n\n  /**\n   * Dispatches event(s).\n   */\n  dispatch(actionOrActions: any | any[]): Observable<any> {\n    return this._internalStateOperations.getRootStateOperations().dispatch(actionOrActions);\n  }\n\n  /**\n   * Selects a slice of data from the store.\n   */\n  select<T>(selector: (state: any, ...states: any[]) => T): Observable<T>;\n  select<T = any>(selector: string | Type<any>): Observable<T>;\n  select<T>(selector: StateToken<T>): Observable<T>;\n  select(selector: any): Observable<any> {\n    const selectorFn = this.getStoreBoundSelectorFn(selector);\n    return this._selectableStateStream.pipe(\n      map(selectorFn),\n      catchError((err: Error): Observable<never> | Observable<undefined> => {\n        // if error is TypeError we swallow it to prevent usual errors with property access\n        const { suppressErrors } = this._config.selectorOptions;\n\n        if (err instanceof TypeError && suppressErrors) {\n          return of(undefined);\n        }\n\n        // rethrow other errors\n        return throwError(err);\n      }),\n      distinctUntilChanged(),\n      leaveNgxs(this._internalExecutionStrategy)\n    );\n  }\n\n  /**\n   * Select one slice of data from the store.\n   */\n\n  selectOnce<T>(selector: (state: any, ...states: any[]) => T): Observable<T>;\n  selectOnce<T = any>(selector: string | Type<any>): Observable<T>;\n  selectOnce<T>(selector: StateToken<T>): Observable<T>;\n  selectOnce(selector: any): Observable<any> {\n    return this.select(selector).pipe(take(1));\n  }\n\n  /**\n   * Select a snapshot from the state.\n   */\n  selectSnapshot<T>(selector: (state: any, ...states: any[]) => T): T;\n  selectSnapshot<T = any>(selector: string | Type<any>): T;\n  selectSnapshot<T>(selector: StateToken<T>): T;\n  selectSnapshot(selector: any): any {\n    const selectorFn = this.getStoreBoundSelectorFn(selector);\n    return selectorFn(this._stateStream.getValue());\n  }\n\n  /**\n   * Allow the user to subscribe to the root of the state\n   */\n  subscribe(fn?: (value: any) => void): Subscription {\n    return this._selectableStateStream\n      .pipe(leaveNgxs(this._internalExecutionStrategy))\n      .subscribe(fn);\n  }\n\n  /**\n   * Return the raw value of the state.\n   */\n  snapshot(): any {\n    return this._internalStateOperations.getRootStateOperations().getState();\n  }\n\n  /**\n   * Reset the state to a specific point in time. This method is useful\n   * for plugin's who need to modify the state directly or unit testing.\n   */\n  reset(state: any) {\n    return this._internalStateOperations.getRootStateOperations().setState(state);\n  }\n\n  private getStoreBoundSelectorFn(selector: any) {\n    const makeSelectorFn = getRootSelectorFactory(selector);\n    const runtimeContext = this._stateFactory.getRuntimeSelectorContext();\n    return makeSelectorFn(runtimeContext);\n  }\n\n  private initStateStream(initialStateValue: any): void {\n    const value: PlainObject = this._stateStream.value;\n    const storeIsEmpty: boolean = !value || Object.keys(value).length === 0;\n    if (storeIsEmpty) {\n      const defaultStateNotEmpty: boolean = Object.keys(this._config.defaultsState).length > 0;\n      const storeValues: PlainObject = defaultStateNotEmpty\n        ? { ...this._config.defaultsState, ...initialStateValue }\n        : initialStateValue;\n\n      this._stateStream.next(storeValues);\n    }\n  }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { Store } from '../../store';\nimport { NgxsConfig } from '../../symbols';\n\n/**\n * Allows the select decorator to get access to the DI store, this is used internally\n * in `@Select` decorator.\n */\n@Injectable({ providedIn: 'root' })\nexport class SelectFactory implements OnDestroy {\n  static store: Store | null = null;\n  static config: NgxsConfig | null = null;\n\n  constructor(store: Store, config: NgxsConfig) {\n    SelectFactory.store = store;\n    SelectFactory.config = config;\n  }\n\n  ngOnDestroy(): void {\n    SelectFactory.store = null;\n    SelectFactory.config = null;\n  }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { NgxsBootstrapper } from '@ngxs/store/internals';\nimport { EMPTY, Subject } from 'rxjs';\nimport {\n  catchError,\n  filter,\n  mergeMap,\n  pairwise,\n  startWith,\n  takeUntil,\n  tap\n} from 'rxjs/operators';\n\nimport { Store } from '../store';\nimport { getValue } from '../utils/utils';\nimport { InternalErrorReporter } from './error-handler';\nimport { StateContextFactory } from './state-context-factory';\nimport { InternalStateOperations } from './state-operations';\nimport { MappedStore, StatesAndDefaults } from './internals';\nimport { NgxsLifeCycle, NgxsSimpleChange, StateContext } from '../symbols';\n\n@Injectable({ providedIn: 'root' })\nexport class LifecycleStateManager implements OnDestroy {\n  private readonly _destroy$ = new Subject<void>();\n\n  constructor(\n    private _store: Store,\n    private _internalErrorReporter: InternalErrorReporter,\n    private _internalStateOperations: InternalStateOperations,\n    private _stateContextFactory: StateContextFactory,\n    private _bootstrapper: NgxsBootstrapper\n  ) {}\n\n  ngOnDestroy(): void {\n    this._destroy$.next();\n  }\n\n  ngxsBootstrap<T>(action: T, results: StatesAndDefaults | undefined): void {\n    this._internalStateOperations\n      .getRootStateOperations()\n      .dispatch(action)\n      .pipe(\n        filter(() => !!results),\n        tap(() => this._invokeInitOnStates(results!.states)),\n        mergeMap(() => this._bootstrapper.appBootstrapped$),\n        filter(appBootstrapped => !!appBootstrapped),\n        catchError(error => {\n          // The `SafeSubscriber` (which is used by most RxJS operators) re-throws\n          // errors asynchronously (`setTimeout(() => { throw error })`). This might\n          // break existing user's code or unit tests. We catch the error manually to\n          // be backward compatible with the old behavior.\n          this._internalErrorReporter.reportErrorSafely(error);\n          return EMPTY;\n        }),\n        takeUntil(this._destroy$)\n      )\n      .subscribe(() => this._invokeBootstrapOnStates(results!.states));\n  }\n\n  private _invokeInitOnStates(mappedStores: MappedStore[]): void {\n    for (const mappedStore of mappedStores) {\n      const instance: NgxsLifeCycle = mappedStore.instance;\n\n      if (instance.ngxsOnChanges) {\n        this._store\n          .select(state => getValue(state, mappedStore.path))\n          .pipe(startWith(undefined), pairwise(), takeUntil(this._destroy$))\n          .subscribe(([previousValue, currentValue]) => {\n            const change = new NgxsSimpleChange(\n              previousValue,\n              currentValue,\n              !mappedStore.isInitialised\n            );\n            instance.ngxsOnChanges!(change);\n          });\n      }\n\n      if (instance.ngxsOnInit) {\n        instance.ngxsOnInit(this._getStateContext(mappedStore));\n      }\n\n      mappedStore.isInitialised = true;\n    }\n  }\n\n  private _invokeBootstrapOnStates(mappedStores: MappedStore[]) {\n    for (const mappedStore of mappedStores) {\n      const instance: NgxsLifeCycle = mappedStore.instance;\n      if (instance.ngxsAfterBootstrap) {\n        instance.ngxsAfterBootstrap(this._getStateContext(mappedStore));\n      }\n    }\n  }\n\n  private _getStateContext(mappedStore: MappedStore): StateContext<any> {\n    return this._stateContextFactory.createStateContext(mappedStore);\n  }\n}\n","import { Inject, NgModule, Optional } from '@angular/core';\n\nimport { StateFactory } from '../internal/state-factory';\nimport { InternalStateOperations } from '../internal/state-operations';\nimport { Store } from '../store';\nimport { SelectFactory } from '../decorators/select/select-factory';\nimport { ROOT_STATE_TOKEN } from '../symbols';\nimport { StateClassInternal, StatesAndDefaults } from '../internal/internals';\nimport { LifecycleStateManager } from '../internal/lifecycle-state-manager';\nimport { InitState } from '../actions/actions';\n\n/**\n * Root module\n * @ignore\n */\n@NgModule()\nexport class NgxsRootModule {\n  constructor(\n    factory: StateFactory,\n    internalStateOperations: InternalStateOperations,\n    _store: Store,\n    _select: SelectFactory,\n    @Optional()\n    @Inject(ROOT_STATE_TOKEN)\n    states: StateClassInternal[] = [],\n    lifecycleStateManager: LifecycleStateManager\n  ) {\n    // Add stores to the state graph and return their defaults\n    const results: StatesAndDefaults = factory.addAndReturnDefaults(states);\n\n    internalStateOperations.setStateToTheCurrentWithNew(results);\n\n    // Connect our actions stream\n    factory.connectActionHandlers();\n\n    // Dispatch the init action and invoke init and bootstrap functions after\n    lifecycleStateManager.ngxsBootstrap(new InitState(), results);\n  }\n}\n","import { Inject, NgModule, Optional } from '@angular/core';\n\nimport { Store } from '../store';\nimport { InternalStateOperations } from '../internal/state-operations';\nimport { StateFactory } from '../internal/state-factory';\nimport { FEATURE_STATE_TOKEN } from '../symbols';\nimport { LifecycleStateManager } from '../internal/lifecycle-state-manager';\nimport { StateClassInternal, StatesAndDefaults } from '../internal/internals';\nimport { UpdateState } from '../actions/actions';\n\n/**\n * Feature module\n * @ignore\n */\n@NgModule()\nexport class NgxsFeatureModule {\n  constructor(\n    _store: Store,\n    internalStateOperations: InternalStateOperations,\n    factory: StateFactory,\n    @Optional()\n    @Inject(FEATURE_STATE_TOKEN)\n    states: StateClassInternal[][] = [],\n    lifecycleStateManager: LifecycleStateManager\n  ) {\n    // Since FEATURE_STATE_TOKEN is a multi token, we need to\n    // flatten it [[Feature1State, Feature2State], [Feature3State]]\n    const flattenedStates: StateClassInternal[] = NgxsFeatureModule.flattenStates(states);\n\n    // add stores to the state graph and return their defaults\n    const results: StatesAndDefaults = factory.addAndReturnDefaults(flattenedStates);\n\n    if (results.states.length) {\n      internalStateOperations.setStateToTheCurrentWithNew(results);\n\n      // dispatch the update action and invoke init and bootstrap functions after\n      lifecycleStateManager.ngxsBootstrap(new UpdateState(results.defaults), results);\n    }\n  }\n\n  private static flattenStates(states: StateClassInternal[][] = []): StateClassInternal[] {\n    return states.reduce(\n      (total: StateClassInternal[], values: StateClassInternal[]) => total.concat(values),\n      []\n    );\n  }\n}\n","import {\n  APP_BOOTSTRAP_LISTENER,\n  ModuleWithProviders,\n  NgModule,\n  Provider\n} from '@angular/core';\nimport {\n  ɵNGXS_STATE_FACTORY,\n  ɵNGXS_STATE_CONTEXT_FACTORY,\n  NgxsBootstrapper,\n  StateClass\n} from '@ngxs/store/internals';\n\nimport {\n  FEATURE_STATE_TOKEN,\n  NgxsModuleOptions,\n  ROOT_OPTIONS,\n  ROOT_STATE_TOKEN\n} from './symbols';\nimport { USER_PROVIDED_NGXS_EXECUTION_STRATEGY } from './execution/symbols';\nimport { StateFactory } from './internal/state-factory';\nimport { StateContextFactory } from './internal/state-context-factory';\nimport { PluginManager } from './plugin-manager';\nimport { NgxsRootModule } from './modules/ngxs-root.module';\nimport { NgxsFeatureModule } from './modules/ngxs-feature.module';\n\n/**\n * Ngxs Module\n */\n@NgModule()\nexport class NgxsModule {\n  /**\n   * Root module factory\n   */\n  static forRoot(\n    states: StateClass[] = [],\n    options: NgxsModuleOptions = {}\n  ): ModuleWithProviders<NgxsRootModule> {\n    return {\n      ngModule: NgxsRootModule,\n      providers: [\n        StateFactory,\n        PluginManager,\n        ...states,\n        ...NgxsModule.ngxsTokenProviders(states, options)\n      ]\n    };\n  }\n\n  /**\n   * Feature module factory\n   */\n  static forFeature(states: StateClass[] = []): ModuleWithProviders<NgxsFeatureModule> {\n    return {\n      ngModule: NgxsFeatureModule,\n      providers: [\n        // This is required on the feature level, see comments in `state-factory.ts`.\n        StateFactory,\n        PluginManager,\n        ...states,\n        {\n          provide: FEATURE_STATE_TOKEN,\n          multi: true,\n          useValue: states\n        }\n      ]\n    };\n  }\n\n  private static ngxsTokenProviders(\n    states: StateClass[],\n    options: NgxsModuleOptions\n  ): Provider[] {\n    return [\n      {\n        provide: USER_PROVIDED_NGXS_EXECUTION_STRATEGY,\n        useValue: options.executionStrategy\n      },\n      {\n        provide: ROOT_STATE_TOKEN,\n        useValue: states\n      },\n      {\n        provide: ROOT_OPTIONS,\n        useValue: options\n      },\n      {\n        provide: APP_BOOTSTRAP_LISTENER,\n        useFactory: NgxsModule.appBootstrapListenerFactory,\n        multi: true,\n        deps: [NgxsBootstrapper]\n      },\n      {\n        provide: ɵNGXS_STATE_CONTEXT_FACTORY,\n        useExisting: StateContextFactory\n      },\n      {\n        provide: ɵNGXS_STATE_FACTORY,\n        useExisting: StateFactory\n      }\n    ];\n  }\n\n  private static appBootstrapListenerFactory(bootstrapper: NgxsBootstrapper): Function {\n    return () => bootstrapper.bootstrap();\n  }\n}\n","import { ensureStoreMetadata } from '../internal/internals';\nimport { ActionType, ActionOptions } from '../actions/symbols';\nimport { throwActionDecoratorError } from '../configs/messages.config';\n\n/**\n * Decorates a method with a action information.\n */\nexport function Action(\n  actions: ActionType | ActionType[],\n  options?: ActionOptions\n): MethodDecorator {\n  return (target: any, name: string | symbol): void => {\n    // Caretaker note: we have still left the `typeof` condition in order to avoid\n    // creating a breaking change for projects that still use the View Engine.\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const isStaticMethod = target.hasOwnProperty('prototype');\n\n      if (isStaticMethod) {\n        throwActionDecoratorError();\n      }\n    }\n\n    const meta = ensureStoreMetadata(target.constructor);\n\n    if (!Array.isArray(actions)) {\n      actions = [actions];\n    }\n\n    for (const action of actions) {\n      const type = action.type;\n\n      if (!meta.actions[type]) {\n        meta.actions[type] = [];\n      }\n\n      meta.actions[type].push({\n        fn: name,\n        options: options || {},\n        type\n      });\n    }\n  };\n}\n","import { StateClass } from '@ngxs/store/internals';\n\nimport { ensureStoreMetadata, MetaDataModel, StateClassInternal } from '../internal/internals';\nimport { META_KEY, META_OPTIONS_KEY, StoreOptions } from '../symbols';\nimport { StoreValidators } from '../utils/store-validators';\n\ninterface MutateMetaOptions<T> {\n  meta: MetaDataModel;\n  inheritedStateClass: StateClassInternal;\n  optionsWithInheritance: StoreOptions<T>;\n}\n\n/**\n * Decorates a class with ngxs state information.\n */\nexport function State<T>(options: StoreOptions<T>) {\n  function getStateOptions(inheritedStateClass: StateClassInternal): StoreOptions<T> {\n    const inheritanceOptions: Partial<StoreOptions<T>> =\n      inheritedStateClass[META_OPTIONS_KEY] || {};\n    return { ...inheritanceOptions, ...options } as StoreOptions<T>;\n  }\n\n  function mutateMetaData(params: MutateMetaOptions<T>): void {\n    const { meta, inheritedStateClass, optionsWithInheritance } = params;\n    const { children, defaults, name } = optionsWithInheritance;\n    const stateName: string | null =\n      typeof name === 'string' ? name : (name && name.getName()) || null;\n\n    // Caretaker note: we have still left the `typeof` condition in order to avoid\n    // creating a breaking change for projects that still use the View Engine.\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      StoreValidators.checkThatStateIsNamedCorrectly(stateName);\n    }\n\n    if (inheritedStateClass.hasOwnProperty(META_KEY)) {\n      const inheritedMeta: Partial<MetaDataModel> = inheritedStateClass[META_KEY] || {};\n      meta.actions = { ...meta.actions, ...inheritedMeta.actions };\n    }\n\n    meta.children = children;\n    meta.defaults = defaults;\n    meta.name = stateName;\n  }\n\n  return (target: StateClass): void => {\n    const stateClass: StateClassInternal = target;\n    const meta: MetaDataModel = ensureStoreMetadata(stateClass);\n    const inheritedStateClass: StateClassInternal = Object.getPrototypeOf(stateClass);\n    const optionsWithInheritance: StoreOptions<T> = getStateOptions(inheritedStateClass);\n    mutateMetaData({ meta, inheritedStateClass, optionsWithInheritance });\n    stateClass[META_OPTIONS_KEY] = optionsWithInheritance;\n  };\n}\n","import { Observable } from 'rxjs';\n\nimport { propGetter } from '../../internal/internals';\nimport { SelectFactory } from './select-factory';\nimport { StateToken } from '../../state-token/state-token';\nimport { ExtractTokenType } from '../../state-token/symbols';\nimport { throwSelectFactoryNotConnectedError } from '../../configs/messages.config';\n\nconst DOLLAR_CHAR_CODE = 36;\n\nexport function createSelectObservable<T = any>(selector: any): Observable<T> {\n  if (!SelectFactory.store) {\n    throwSelectFactoryNotConnectedError();\n  }\n  return SelectFactory.store!.select(selector);\n}\n\nexport function createSelectorFn(name: string, rawSelector?: any, paths: string[] = []): any {\n  rawSelector = !rawSelector ? removeDollarAtTheEnd(name) : rawSelector;\n\n  if (typeof rawSelector === 'string') {\n    const propsArray: string[] = paths.length\n      ? [rawSelector, ...paths]\n      : rawSelector.split('.');\n    return propGetter(propsArray, SelectFactory.config!);\n  }\n\n  return rawSelector;\n}\n\n/**\n * @example If `foo$` => make it just `foo`\n */\nexport function removeDollarAtTheEnd(name: string): string {\n  const lastCharIndex: number = name.length - 1;\n  const dollarAtTheEnd: boolean = name.charCodeAt(lastCharIndex) === DOLLAR_CHAR_CODE;\n  return dollarAtTheEnd ? name.slice(0, lastCharIndex) : name;\n}\n\nexport type PropertyType<T> = T extends StateToken<any>\n  ? Observable<ExtractTokenType<T>>\n  : T extends (...args: any[]) => any\n  ? Observable<ReturnType<T>>\n  : any;\n","import { createSelectObservable, createSelectorFn, PropertyType } from './symbols';\n\n/**\n * Decorator for selecting a slice of state from the store.\n */\nexport function Select<T>(rawSelector?: T, ...paths: string[]): PropertyDecorator {\n  return function(target, key): void {\n    const name: string = key.toString();\n    const selectorId = `__${name}__selector`;\n    const selector = createSelectorFn(name, rawSelector, paths);\n\n    Object.defineProperties(target, {\n      [selectorId]: {\n        writable: true,\n        enumerable: false,\n        configurable: true\n      },\n      [name]: {\n        enumerable: true,\n        configurable: true,\n        get(): PropertyType<T> {\n          return this[selectorId] || (this[selectorId] = createSelectObservable(selector));\n        }\n      }\n    });\n  };\n}\n","import {\n  ensureSelectorMetadata,\n  SelectorMetaDataModel,\n  SharedSelectorOptions,\n} from '../internal/internals';\nimport { CreationMetadata } from './selector-models';\n\nconst SELECTOR_OPTIONS_META_KEY = 'NGXS_SELECTOR_OPTIONS_META';\n\nexport const selectorOptionsMetaAccessor = {\n  getOptions: (target: any): SharedSelectorOptions => {\n    return (target && (<any>target)[SELECTOR_OPTIONS_META_KEY]) || {};\n  },\n  defineOptions: (target: any, options: SharedSelectorOptions) => {\n    if (!target) return;\n    (<any>target)[SELECTOR_OPTIONS_META_KEY] = options;\n  },\n};\n\nexport function setupSelectorMetadata<T extends (...args: any[]) => any>(\n  originalFn: T,\n  creationMetadata: Partial<CreationMetadata> | undefined\n) {\n  const selectorMetaData = ensureSelectorMetadata(originalFn);\n  selectorMetaData.originalFn = originalFn;\n  let getExplicitSelectorOptions = () => ({});\n  if (creationMetadata) {\n    selectorMetaData.containerClass = creationMetadata.containerClass;\n    selectorMetaData.selectorName = creationMetadata.selectorName || null;\n    getExplicitSelectorOptions =\n      creationMetadata.getSelectorOptions || getExplicitSelectorOptions;\n  }\n  const selectorMetaDataClone = { ...selectorMetaData };\n  selectorMetaData.getSelectorOptions = () =>\n    getLocalSelectorOptions(selectorMetaDataClone, getExplicitSelectorOptions());\n  return selectorMetaData;\n}\n\nfunction getLocalSelectorOptions(\n  selectorMetaData: SelectorMetaDataModel,\n  explicitOptions: SharedSelectorOptions\n): SharedSelectorOptions {\n  return {\n    ...(selectorOptionsMetaAccessor.getOptions(selectorMetaData.containerClass) || {}),\n    ...(selectorOptionsMetaAccessor.getOptions(selectorMetaData.originalFn) || {}),\n    ...(selectorMetaData.getSelectorOptions() || {}),\n    ...explicitOptions,\n  };\n}\n","import { SharedSelectorOptions } from '../internal/internals';\nimport { selectorOptionsMetaAccessor } from '../selectors/selector-metadata';\n\n/**\n * Decorator for setting selector options at a method or class level.\n */\nexport function SelectorOptions(options: SharedSelectorOptions) {\n  return <ClassDecorator & MethodDecorator>(\n    function decorate<T>(\n      target: any,\n      methodName: string,\n      descriptor: TypedPropertyDescriptor<T>\n    ) {\n      if (methodName) {\n        descriptor ||= Object.getOwnPropertyDescriptor(target, methodName)!;\n        // Method Decorator\n        const originalFn = descriptor.value || (<any>descriptor).originalFn;\n        if (originalFn) {\n          selectorOptionsMetaAccessor.defineOptions(originalFn, options);\n        }\n      } else {\n        // Class Decorator\n        selectorOptionsMetaAccessor.defineOptions(target, options);\n      }\n    }\n  );\n}\n","import {\n  getSelectorMetadata as getSelectorMetadataInternal,\n  getStoreMetadata as getStoreMetadataInternal,\n  ensureStoreMetadata as ensureStoreMetadataInternal,\n  ensureSelectorMetadata as ensureSelectorMetadataInternal,\n  StateClassInternal,\n  SharedSelectorOptions\n} from './internal/internals';\nimport { PlainObjectOf } from '../internals/src/symbols';\nimport { ActionHandlerMetaData } from './actions/symbols';\n\ninterface MetaDataModel {\n  name: string | null;\n  actions: PlainObjectOf<ActionHandlerMetaData[]>;\n  defaults: any;\n  path: string | null;\n  // selectFromAppState: SelectFromState | null;\n  // makeRootSelector: SelectorFactory | null; // Don't expose new stuff\n  children?: StateClassInternal[];\n}\n\ninterface SelectorMetaDataModel {\n  // selectFromAppState: SelectFromState | null;\n  // makeRootSelector: SelectorFactory | null; // Don't expose new stuff\n  originalFn: Function | null;\n  containerClass: any;\n  selectorName: string | null;\n  getSelectorOptions: () => SharedSelectorOptions;\n}\n\nexport function ensureStoreMetadata(target: StateClassInternal<any, any>): MetaDataModel {\n  return ensureStoreMetadataInternal(target);\n}\n\nexport function getStoreMetadata(target: StateClassInternal<any, any>): MetaDataModel {\n  return getStoreMetadataInternal(target);\n}\n\nexport function ensureSelectorMetadata(target: Function): SelectorMetaDataModel {\n  return ensureSelectorMetadataInternal(target);\n}\n\nexport function getSelectorMetadata(target: any): SelectorMetaDataModel {\n  return getSelectorMetadataInternal(target);\n}\n","import { CreationMetadata } from './selector-models';\nimport { setupSelectorMetadata } from './selector-metadata';\nimport { createMemoizedSelectorFn, createRootSelectorFactory } from './selector-utils';\n\nimport { SelectorDef, SelectorReturnType } from './selector-types.util';\n\ntype SelectorArg = SelectorDef<any>;\n\n/**\n * Function for creating a selector\n * @param selectors The selectors to use to create the arguments of this function\n * @param originalFn The original function being made into a selector\n * @param creationMetadata\n */\nexport function createSelector<\n  S1 extends SelectorArg,\n  TProjector extends (s1: SelectorReturnType<S1>) => any\n>(\n  selectors: [S1],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  TProjector extends (s1: SelectorReturnType<S1>, s2: SelectorReturnType<S2>) => any\n>(\n  selectors: [S1, S2],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>\n  ) => any\n>(\n  selectors: [S1, S2, S3],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  S4 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>,\n    s4: SelectorReturnType<S4>\n  ) => any\n>(\n  selectors: [S1, S2, S3, S4],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  S4 extends SelectorArg,\n  S5 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>,\n    s4: SelectorReturnType<S4>,\n    s5: SelectorReturnType<S5>\n  ) => any\n>(\n  selectors: [S1, S2, S3, S4, S5],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  S4 extends SelectorArg,\n  S5 extends SelectorArg,\n  S6 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>,\n    s4: SelectorReturnType<S4>,\n    s5: SelectorReturnType<S5>,\n    s6: SelectorReturnType<S6>\n  ) => any\n>(\n  selectors: [S1, S2, S3, S4, S5, S6],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  S4 extends SelectorArg,\n  S5 extends SelectorArg,\n  S6 extends SelectorArg,\n  S7 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>,\n    s4: SelectorReturnType<S4>,\n    s5: SelectorReturnType<S5>,\n    s6: SelectorReturnType<S6>,\n    s7: SelectorReturnType<S7>\n  ) => any\n>(\n  selectors: [S1, S2, S3, S4, S5, S6, S7],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<\n  S1 extends SelectorArg,\n  S2 extends SelectorArg,\n  S3 extends SelectorArg,\n  S4 extends SelectorArg,\n  S5 extends SelectorArg,\n  S6 extends SelectorArg,\n  S7 extends SelectorArg,\n  S8 extends SelectorArg,\n  TProjector extends (\n    s1: SelectorReturnType<S1>,\n    s2: SelectorReturnType<S2>,\n    s3: SelectorReturnType<S3>,\n    s4: SelectorReturnType<S4>,\n    s5: SelectorReturnType<S5>,\n    s6: SelectorReturnType<S6>,\n    s7: SelectorReturnType<S7>,\n    s8: SelectorReturnType<S8>\n  ) => any\n>(\n  selectors: [S1, S2, S3, S4, S5, S6, S7, S8],\n  projector: TProjector,\n  creationMetadata?: Partial<CreationMetadata>\n): TProjector;\n\nexport function createSelector<T extends (...args: any[]) => any>(\n  selectors: SelectorArg[] | undefined,\n  projector: T,\n  creationMetadata?: Partial<CreationMetadata>\n): T;\n\nexport function createSelector<T extends (...args: any[]) => any>(\n  selectors: SelectorArg[] | undefined,\n  projector: T,\n  creationMetadata?: Partial<CreationMetadata>\n) {\n  const memoizedFn = createMemoizedSelectorFn<T>(projector, creationMetadata);\n\n  const selectorMetaData = setupSelectorMetadata<T>(projector, creationMetadata);\n\n  selectorMetaData.makeRootSelector = createRootSelectorFactory<T>(\n    selectorMetaData,\n    selectors,\n    memoizedFn\n  );\n\n  return memoizedFn;\n}\n","import { throwSelectorDecoratorError } from '../../configs/messages.config';\nimport { SelectorDef } from '../../selectors';\nimport { createSelector } from '../../selectors/create-selector';\nimport { SelectorSpec, SelectorType } from './symbols';\n\n/**\n * Decorator for creating a state selector for the current state.\n */\nexport function Selector(): SelectorType<unknown>;\n\n/**\n * Decorator for creating a state selector from the provided selectors (and optionally the container State, depending on the applicable Selector Options).\n */\nexport function Selector<T extends SelectorDef<any>>(selectors: T[]): SelectorType<T>;\n\nexport function Selector<T extends SelectorDef<any>>(selectors?: T[]): SelectorType<T> {\n  return <U>(\n    target: any,\n    key: string | symbol,\n    descriptor: TypedPropertyDescriptor<SelectorSpec<T, U>>\n  ): TypedPropertyDescriptor<SelectorSpec<T, U>> | void => {\n    descriptor ||= Object.getOwnPropertyDescriptor(target, key)!;\n\n    const originalFn = descriptor?.value;\n\n    // Caretaker note: we have still left the `typeof` condition in order to avoid\n    // creating a breaking change for projects that still use the View Engine.\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (originalFn && typeof originalFn !== 'function') {\n        throwSelectorDecoratorError();\n      }\n    }\n\n    const memoizedFn = createSelector(selectors, originalFn as any, {\n      containerClass: target,\n      selectorName: key.toString(),\n      getSelectorOptions() {\n        return {};\n      },\n    });\n    const newDescriptor = {\n      configurable: true,\n      get() {\n        return memoizedFn;\n      },\n    };\n    // Add hidden property to descriptor\n    (<any>newDescriptor)['originalFn'] = originalFn;\n    return newDescriptor;\n  };\n}\n","import { TokenName } from './symbols';\nimport {\n  ensureSelectorMetadata,\n  RuntimeSelectorContext,\n  SelectFromRootState\n} from '../internal/internals';\n\nexport class StateToken<T = void> {\n  constructor(private readonly name: TokenName<T>) {\n    const selectorMetadata = ensureSelectorMetadata(<any>this);\n    selectorMetadata.makeRootSelector = (\n      runtimeContext: RuntimeSelectorContext\n    ): SelectFromRootState => {\n      return runtimeContext.getStateGetter(this.name);\n    };\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  toString(): string {\n    return `StateToken[${this.name}]`;\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NgxsDevelopmentOptions, NGXS_DEVELOPMENT_OPTIONS } from './symbols';\nimport { NgxsUnhandledActionsLogger } from './ngxs-unhandled-actions-logger';\n\n@NgModule()\nexport class NgxsDevelopmentModule {\n  static forRoot(options: NgxsDevelopmentOptions): ModuleWithProviders<NgxsDevelopmentModule> {\n    return {\n      ngModule: NgxsDevelopmentModule,\n      providers: [\n        NgxsUnhandledActionsLogger,\n        { provide: NGXS_DEVELOPMENT_OPTIONS, useValue: options }\n      ]\n    };\n  }\n}\n","import { getSelectorMetadata, getStoreMetadata } from '../internal/internals';\nimport { SelectorDef } from './selector-types.util';\n\nexport function ensureValidSelector(\n  selector: SelectorDef<any>,\n  context: { prefix?: string; noun?: string } = {}\n) {\n  const noun = context.noun || 'selector';\n  const prefix = context.prefix ? context.prefix + ': ' : '';\n  ensureValueProvided(selector, { noun, prefix: context.prefix });\n  const metadata = getSelectorMetadata(selector) || getStoreMetadata(selector as any);\n  if (!metadata) {\n    throw new Error(`${prefix}The value provided as the ${noun} is not a valid selector.`);\n  }\n}\n\nexport function ensureValueProvided(\n  value: any,\n  context: { prefix?: string; noun?: string } = {}\n) {\n  const noun = context.noun || 'value';\n  const prefix = context.prefix ? context.prefix + ': ' : '';\n  if (!value) {\n    throw new Error(`${prefix}A ${noun} must be provided.`);\n  }\n}\n","import { createSelector } from './create-selector';\nimport { ensureValidSelector, ensureValueProvided } from './selector-checks.util';\nimport { TypedSelector } from './selector-types.util';\n\ninterface SelectorMap {\n  [key: string]: TypedSelector<any>;\n}\n\ntype ModelSelector<T extends SelectorMap> = (...args: any[]) => MappedResult<T>;\n\ntype MappedResult<TSelectorMap> = {\n  [P in keyof TSelectorMap]: TSelectorMap[P] extends TypedSelector<infer R> ? R : never;\n};\n\nexport function createModelSelector<T extends SelectorMap>(selectorMap: T): ModelSelector<T> {\n  const selectorKeys = Object.keys(selectorMap);\n  const selectors = Object.values(selectorMap);\n  ensureValidSelectorMap<T>({\n    prefix: '[createModelSelector]',\n    selectorMap,\n    selectorKeys,\n    selectors,\n  });\n\n  return createSelector(selectors, (...args) => {\n    return selectorKeys.reduce((obj, key, index) => {\n      (obj as any)[key] = args[index];\n      return obj;\n    }, {} as MappedResult<T>);\n  }) as ModelSelector<T>;\n}\n\nfunction ensureValidSelectorMap<T extends SelectorMap>({\n  prefix,\n  selectorMap,\n  selectorKeys,\n  selectors,\n}: {\n  prefix: string;\n  selectorMap: T;\n  selectorKeys: string[];\n  selectors: TypedSelector<any>[];\n}) {\n  ensureValueProvided(selectorMap, { prefix, noun: 'selector map' });\n  ensureValueProvided(typeof selectorMap === 'object', { prefix, noun: 'valid selector map' });\n  ensureValueProvided(selectorKeys.length, { prefix, noun: 'non-empty selector map' });\n  selectors.forEach((selector, index) =>\n    ensureValidSelector(selector, {\n      prefix,\n      noun: `selector for the '${selectorKeys[index]}' property`,\n    })\n  );\n}\n","import { createSelector } from './create-selector';\nimport { ensureValidSelector } from './selector-checks.util';\nimport { TypedSelector } from './selector-types.util';\n\ntype KeysToValues<T, Keys extends (keyof T)[]> = {\n  [Index in keyof Keys]: Keys[Index] extends keyof T ? T[Keys[Index]] : never;\n};\n\nexport function createPickSelector<TModel, Keys extends (keyof TModel)[]>(\n  selector: TypedSelector<TModel>,\n  keys: [...Keys]\n) {\n  ensureValidSelector(selector, { prefix: '[createPickSelector]' });\n  const validKeys = keys.filter(Boolean);\n  const selectors = validKeys.map((key) => createSelector([selector], (s: TModel) => s[key]));\n  return createSelector([...selectors], (...props: KeysToValues<TModel, Keys>) => {\n    return validKeys.reduce((acc, key, index) => {\n      acc[key] = props[index];\n      return acc;\n    }, {} as Pick<TModel, Keys[number]>);\n  });\n}\n","import { createSelector } from './create-selector';\nimport { ensureValidSelector } from './selector-checks.util';\nimport { SelectorDef } from './selector-types.util';\n\nexport type PropertySelectors<TModel> = {\n  [P in keyof NonNullable<TModel>]-?: (\n    model: TModel\n  ) => TModel extends null | undefined ? undefined : NonNullable<TModel>[P];\n};\n\nexport function createPropertySelectors<TModel>(\n  parentSelector: SelectorDef<TModel>\n): PropertySelectors<TModel> {\n  ensureValidSelector(parentSelector, {\n    prefix: '[createPropertySelectors]',\n    noun: 'parent selector',\n  });\n  const cache: Partial<PropertySelectors<TModel>> = {};\n  return new Proxy<PropertySelectors<TModel>>(\n    {} as unknown as PropertySelectors<TModel>,\n    {\n      get(_target: any, prop: keyof TModel) {\n        const selector =\n          cache[prop] ||\n          (createSelector(\n            [parentSelector],\n            (s: TModel) => s?.[prop]\n          ) as PropertySelectors<TModel>[typeof prop]);\n        cache[prop] = selector;\n        return selector;\n      },\n    } as ProxyHandler<PropertySelectors<TModel>>\n  );\n}\n","/**\n * The public api for consumers of @ngxs/store\n */\nexport * from './src/public_api';\n\n/**\n * The plugin api for the stuff that a plugins needs\n */\nexport * from './src/plugin_api';\n\n/**\n * Private exports required for the Ivy compilation.\n */\nexport * from './src/private_api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["isObject","isPlatformServer","NgZone","i0","PLATFORM_ID","Injectable","Inject","InjectionToken","inject","INJECTOR","ɵglobal","ensureStoreMetadata","getStoreMetadata","ensureSelectorMetadata","getSelectorMetadata","filter","map","Observable","Subject","BehaviorSubject","share","i1.InternalNgxsExecutionStrategy","ErrorHandler","Optional","SkipSelf","of","forkJoin","throwError","shareReplay","take","exhaustMap","EMPTY","i2.PluginManager","i3.StateStream","i4.InternalNgxsExecutionStrategy","i5.InternalErrorReporter","i1.StateStream","i2.InternalDispatcher","i3.NgxsConfig","i1.InternalStateOperations","memoize","mergeMap","defaultIfEmpty","catchError","from","isObservable","takeUntil","i1.NgxsConfig","i2.InternalActions","i3.InternalDispatchedActionResults","i4.StateContextFactory","INITIAL_STATE_TOKEN","distinctUntilChanged","i1.Store","i2.NgxsConfig","tap","startWith","pairwise","i2.InternalErrorReporter","i3.InternalStateOperations","i5","i5.LifecycleStateManager","NgModule","i4.LifecycleStateManager","APP_BOOTSTRAP_LISTENER","NgxsBootstrapper","ɵNGXS_STATE_CONTEXT_FACTORY","ɵNGXS_STATE_FACTORY","ensureStoreMetadataInternal","getStoreMetadataInternal","ensureSelectorMetadataInternal","getSelectorMetadataInternal"],"mappings":"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"}